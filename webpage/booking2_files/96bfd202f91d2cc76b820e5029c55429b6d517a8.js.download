var _i_ = this._i_ || function() {}, _r_ = this._r_ || function(e) {
return e;
};

!function(e, t) {
_i_("35b:2"), e("ga-tracker-base", function(e, t) {
_i_("35b:136");
function i(e, t) {
_i_("35b:240"), "undefined" != typeof t && ("undefined" != typeof _gaq && _gaq.push([ "_trackPageview", t ]), window.ga && window.ga("send", "pageview", t)), _r_();
}
function n(e, t, i, n, o) {
_i_("35b:241"), "undefined" == typeof o && (o = 1), "undefined" != typeof e && ("undefined" != typeof _gaq && _gaq.push([ "_trackEvent", e, t, i, n, !0 ]), window.ga && window.ga("send", {
hitType:"event",
eventCategory:e,
eventAction:t,
eventLabel:i,
eventValue:n,
nonInteraction:1
})), _r_();
}
function o(e, t, i, n) {
if (_i_("35b:242"), !window.ga) return _r_();
if ("undefined" == typeof e) return _r_();
if (!t || "string" != typeof t) return _r_();
if ("string" == typeof i && i && (i = +i), isNaN(i) || !isFinite(i)) return _r_();
if ((!n || "string" != typeof n) && void 0 !== n) return _r_();
window.ga("send", {
hitType:"timing",
timingCategory:e,
timingVar:t,
timingValue:i,
timingLabel:n
}), _r_();
}
t.trackTiming = o, t.trackEvent = n, t.trackPageview = i, _r_();
}), e("ga-tracker", function(e, t) {
_i_("35b:137");
var i = e("promise"), n = e("ga-tracker-base"), o = new i(function(e, t) {
_i_("35b:412"), window.booking = window.booking || {}, window.booking.google = window.booking.google || {}, window.booking.google.setPageAsTracked = e, _r_();
});
function r() {
_i_("35b:243");
var e = arguments;
o.then(function() {
_i_("35b:421"), n.trackTiming.apply(null, e), _r_();
}), _r_();
}
t.errorTracker = "Error", t.clickTracker = "Click", t.changeTracker = "Change", t.hoverTracker = "Hover", t.mapTracker = "Map", t.pageviewTracker = "Pageview", t.viewTracker = "View", t.cityTracker = "City", t.groupTracker = "Group", t.cardTracker = "Credit Card", t.comparisonTracker = "Hotel Comparison", t.userProfileTracker = "User profile", t.bookProcessTracker = "Book process", t.bookingProcessTracker = "Booking Process", t.hotelPageTracker = "Hotel Page", t.reviewSearchTracker = "Review search", t.BBToolTracker = "Business Bookers Tool", t.TripPlannerTracker = "Trip Planner", t.growlTracker = "Growl", t.WebMessagingTracker = "Web Messaging", t.SearchResultsTracker = "Search Results", t.SearchResultsCardClickEventsTracker = "Search Results Card Click Event", t.SearchResultsCardHoverEventsTracker = "Search Results Card Hover Event", t.SearchResultsFilterTracker = "Filter", t.SearchResultsFilterMapTracker = "Filter - Map", t.articlesTracker = "Articles", t.DSFTracker = "DSF", t.ugcdTracker = "UGC Display", t.ugccDestinationTracker = "Destination UGC", t.ugccPropertyTracker = "Property UGC", t.assistantTracker = "Messaging V2", t.referralAdvocateTracker = "Referral - Advocate", t.referralFriendTracker = "Referral - Friend", t.Rewards = "Rewards", t.SearchBoxTracker = "Searchbox", t.travelGuide = "TravelGuide", t.paymentForm = "Checkout Form", t.TIMING = {}, t.TIMING.PERFORMANCE = "Browser Performance", t.trackEvent = n.trackEvent, t.trackTiming = r, t.trackPageview = n.trackPageview, _r_();
}), _r_();
}(B.define, B.require), B.define("promise", function(e, t, i) {
_i_("35b:3"), "undefined" == typeof Promise ? !function(e) {
_i_("35b:244");
var t = r.immediateFn || "function" == typeof setImmediate && setImmediate || function(e) {
_i_("35b:450"), setTimeout(e, 1), _r_();
};
function n(e, t) {
return _i_("35b:376"), _r_(function() {
_i_("35b:451"), e.apply(t, arguments), _r_();
});
}
var o = Array.isArray || function(e) {
return _i_("35b:452"), _r_("[object Array]" === Object.prototype.toString.call(e));
};
function r(e) {
if (_i_("35b:377"), "object" != typeof this) throw new TypeError("Promises must be constructed via new");
if ("function" != typeof e) throw new TypeError("not a function");
this._state = null, this._value = null, this._deferreds = [], d(e, n(a, this), n(_, this)), _r_();
}
function s(e) {
_i_("35b:378");
var i = this;
if (null === this._state) return this._deferreds.push(e), _r_();
t(function() {
_i_("35b:470");
var t = i._state ? e.onFulfilled :e.onRejected;
if (null === t) return (i._state ? e.resolve :e.reject)(i._value), _r_();
var n;
try {
n = t(i._value);
} catch (o) {
return e.reject(o), _r_();
}
e.resolve(n), _r_();
}), _r_();
}
function a(e) {
_i_("35b:379");
try {
if (e === this) throw new TypeError("A promise cannot be resolved with itself.");
if (e && ("object" == typeof e || "function" == typeof e)) {
var t = e.then;
if ("function" == typeof t) return d(n(t, e), n(a, this), n(_, this)), _r_();
}
this._state = !0, this._value = e, l.call(this);
} catch (i) {
_.call(this, i);
}
_r_();
}
function _(e) {
_i_("35b:380"), this._state = !1, this._value = e, l.call(this), _r_();
}
function l() {
_i_("35b:381");
for (var e = 0, t = this._deferreds.length; t > e; e++) s.call(this, this._deferreds[e]);
this._deferreds = null, _r_();
}
function c(e, t, i, n) {
_i_("35b:382"), this.onFulfilled = "function" == typeof e ? e :null, this.onRejected = "function" == typeof t ? t :null, this.resolve = i, this.reject = n, _r_();
}
function d(e, t, i) {
_i_("35b:383");
var n = !1;
try {
e(function(e) {
if (_i_("35b:493"), n) return _r_();
n = !0, t(e), _r_();
}, function(e) {
if (_i_("35b:494"), n) return _r_();
n = !0, i(e), _r_();
});
} catch (o) {
if (n) return _r_();
n = !0, i(o);
}
_r_();
}
r.prototype["catch"] = function(e) {
return _i_("35b:422"), _r_(this.then(null, e));
}, r.prototype.then = function(e, t) {
_i_("35b:423");
var i = this;
return _r_(new r(function(n, o) {
_i_("35b:495"), s.call(i, new c(e, t, n, o)), _r_();
}));
}, r.all = function() {
_i_("35b:424");
var e = Array.prototype.slice.call(1 === arguments.length && o(arguments[0]) ? arguments[0] :arguments), t = new r(function(t, i) {
if (_i_("35b:510"), 0 === e.length) return _r_(t([]));
var n = e.length;
function o(r, s) {
_i_("35b:522");
try {
if (s && ("object" == typeof s || "function" == typeof s)) {
var a = s.then;
if ("function" == typeof a) return a.call(s, function(e) {
_i_("35b:531"), o(r, e), _r_();
}, i), _r_();
}
e[r] = s, 0 === --n && t(e);
} catch (_) {
i(_);
}
_r_();
}
for (var r = 0; r < e.length; r++) o(r, e[r]);
_r_();
});
return _r_(t);
}, r.resolve = function(e) {
if (_i_("35b:425"), e && "object" == typeof e && e.constructor === r) return _r_(e);
return _r_(new r(function(t) {
_i_("35b:496"), t(e), _r_();
}));
}, r.reject = function(e) {
return _i_("35b:426"), _r_(new r(function(t, i) {
_i_("35b:497"), i(e), _r_();
}));
}, r.race = function(e) {
return _i_("35b:427"), _r_(new r(function(t, i) {
_i_("35b:498");
for (var n = 0, o = e.length; o > n; n++) e[n].then(t, i);
_r_();
}));
}, "undefined" != typeof i && i.exports ? i.exports = r :e.Promise || (e.Promise = r), _r_();
}(this) :i.exports = Promise, _r_();
}), B.define("querystring", function(e, t, i) {
_i_("35b:4");
function n(e, t) {
_i_("35b:79");
var i = e.split(t);
return _r_([ i.shift(), i.join(t) ]);
}
t.parseUrl = function(e) {
_i_("35b:138");
var i = {}, o = n(e, "#");
return i.hash = o[1], o = n(o[0], "?"), i.base = o[0], i.query = t.parse(o[1]), _r_(i);
}, t.stringify = function(e, t) {
_i_("35b:139"), t = t || {};
var i = t.sep || "&", n = t.eq || "=", o = t.skipNull, r = t.encodeURIComponent || encodeURIComponent, s = [];
function a(e, t) {
_i_("35b:245"), (null === t || void 0 === t) && (t = ""), s.push(e + n + r(t)), _r_();
}
for (var _ in e) {
if (null === e[_] && o) continue;
e[_] instanceof Array ? e[_].forEach(a.bind(this, _)) :a(_, e[_]);
}
return _r_(s.join(i));
}, t.parse = function(e, t) {
_i_("35b:140");
var i = {};
return e.split(/[\&\;]+/).forEach(function(e) {
if (_i_("35b:384"), !e) return _r_();
var n = e.split("="), o = n.shift(), r = n.join("=");
if (!t) try {
r = decodeURIComponent(r.replace(/\+/g, "%20"));
} catch (s) {}
o in i ? (Array.isArray(i[o]) || (i[o] = [ i[o] ]), i[o].push(r)) :i[o] = r, _r_();
}), _r_(i);
}, t.toArray = function(e) {
_i_("35b:141");
var t, i, n = [];
for (t in e) if (e.hasOwnProperty(t)) if (i = e[t], Array.isArray(i)) for (var o = 0, r = i.length; r > o; o++) n.push({
key:t,
value:i[o]
}); else n.push({
key:t,
value:i
});
return _r_(n);
}, _r_();
}), B.define("review/dom", function(e, t, i) {
"use strict";
_i_("35b:5");
var n = $.isNumeric(B.env.fe_max_additional_questions) ? parseInt(B.env.fe_max_additional_questions) :4;
function o(e, t) {
_i_("35b:80"), e.find(".question_label .counter").length || e.find(".question_label").append(' <span class="counter optional-text">' + B.jstmpl.translations("loc_review_form_bonus_questions_counter", null, {
answered_num_question:t,
total_num_question:n
}) + "</span>"), _r_();
}
i.exports = {
getScoreRatings:function() {
_i_("35b:246");
var e = $(".rf_score_components_fieldset").find(".affects_score"), t = e.find(":checked").serializeArray();
return _r_(t.reduce(function(e, t) {
return _i_("35b:428"), e[t.name] = t.value, _r_(e);
}, {}));
},
toggleCompleteMessage:function(e, t) {
_i_("35b:247");
var i = $(".rf_" + e + "_fieldset");
this.toggleValidationMessage(e, !1), i.find(".rf_feedback_complete").toggleClass("g-hidden", !t), i.find(".rf_feedback_complete").addClass("bounce-in"), _r_();
},
toggleValidationMessage:function(e, t) {
_i_("35b:248");
var i = $(".rf_" + e + "_fieldset");
i.find(".rf_feedback_required").toggleClass("g-hidden", !t), t && i.find(".rf_feedback_complete").addClass("g-hidden"), "score_components" !== e && i.toggleClass("rf_fieldset_required", t), _r_();
},
scrollTo:function(e, t) {
_i_("35b:249");
var i;
if (i = "object" == typeof e ? e :$(".rf_" + e + "_fieldset"), 0 === i.length) return _r_();
$("html, body").animate({
scrollTop:i.offset().top
}, t ? t :300), _r_();
},
reviewInput:function() {
_i_("35b:250");
var e = B.require("utils/sanitize"), t = {
stay_purpose:"input[name=stay_purpose]:checked",
traveller_type:"input[name=travel_with]:checked"
}, i = e($(".rf_fieldset_custom_name").find("input").val()) || "", n = $("#non_anon").is(":checked");
return _r_({
b_stay_purpose:$(t.stay_purpose).val() || "",
b_traveller_type:$(t.traveller_type).val() || "",
b_review_title:e($(".review_content_title").find("input").val()),
b_review_positive:e($(".review_content_positive").find("textarea").val()),
b_review_negative:e($(".review_content_negative").find("textarea").val()),
b_review_custom_name:i,
b_is_non_anonymous:n
});
},
getInvalidReviewInputs:function() {
_i_("35b:251");
var e = [];
return $(".js-review-form").find("fieldset[data-required]").each(function(t, i) {
_i_("35b:429"), $("input:checked", i).length || e.push($(i).data("type")), _r_();
}), _r_(e);
},
onFormChange:function(e) {
_i_("35b:252"), $(".review_content_title").find("input").on("keyup", e), $(".review_content_positive").find("textarea").on("keyup", e), $(".review_content_negative").find("textarea").on("keyup", e), $(".rf_fieldset_custom_name").find("input").on("keyup", e), $("#non_anon").on("change", e), _r_();
},
hasFieldErrors:function() {
return _i_("35b:253"), _r_($("form[data-has-field-errors]").length > 0);
},
toggleBonusQuestions:function() {
_i_("35b:254");
var e = $(".rf_additional_question:not(.rf_additional_question--not-available, [data-condition])"), t = e.filter(":visible").has(".selected").length, i = 0;
if (t >= n) return _r_();
if (e.length && 0 === t) return e.eq(0).show(), o(e.eq(0), 1), e.eq(0).is("[data-stage-only]") && e.not("[data-stage-only]").eq(0).show(), B.eventEmitter.trigger("GENERAL:layout_changed"), _r_();
e.each(function(e, n) {
_i_("35b:430");
var r = $(n);
if (e - i > t) return _r_(!1);
o(r, t + 1), r.slideDown("fast", function() {
_i_("35b:499");
var e = r.data("track-question-show");
e && e.length && B.et.customGoal(e[0].hash, 3), B.eventEmitter.trigger("GENERAL:layout_changed"), _r_();
}), r.is("[data-stage-only]") && i++, _r_();
}), _r_();
}
}, _r_();
}), B.define("review-store", function(e, t, i) {
"use strict";
_i_("35b:6");
var n = e("jstmpl"), o = B.env && B.env.b_review_score_words, r = 2.5;
function s(e) {
_i_("35b:81");
var t, i = 0, n = 0;
if ("object" != typeof e) throw new Error("review-score: calcRating() expected object argument");
for (var o in e) i += parseInt(e[o], 10) * r, n++;
return t = Number((i / n).toFixed(1)), _r_({
number:t,
word:this.getWord(t)
});
}
function a(e) {
if (_i_("35b:82"), !Array.isArray(o)) throw new Error("review-score: `B.env.b_review_score_words` is undefined or invalid!");
var t = o.filter(function(t) {
if (_i_("35b:413"), e >= t[0] && e < t[1]) return _r_(t);
_r_();
}).map(function(e) {
return _i_("35b:305"), _r_(e[2]);
});
return _r_(t.length > 0 ? n.translations(t[0]) :"");
}
t.calcRating = s, t.getWord = a, _r_();
}), B.define("review/model", function(e, t, i) {
"use strict";
_i_("35b:7");
var n = e("promise"), o = e("event-emitter"), r = e("querystring"), s = e("review-store"), a = {}, _ = {
number:0,
word:""
};
i.exports = {
events:new o(),
setFormScore:function(e) {
_i_("35b:255"), _ = e, this.events.trigger("change:score", _), _r_();
},
getFormScore:function() {
return _i_("35b:256"), _r_(_);
},
getScore:function(e) {
_i_("35b:257");
var t = this, i = r.stringify(e);
return _r_(new n(function(n, o) {
if (_i_("35b:431"), a[i]) return _r_(n(a[i]));
t.events.trigger("change:score:start"), a[i] = s.calcRating(e), t.events.trigger("change:score", a[i]), n(a[i]), _r_();
}));
}
}, _r_();
}), B.define("review/toggle", function(e, t, i) {
"use strict";
_i_("35b:8"), i.exports = {
init:function(e, t, i) {
_i_("35b:258");
function n() {
_i_("35b:385"), t.toggleClass("rf_additional_question--not-available", !i.is(":checked")), _r_();
}
n(), e.click(n), _r_();
}
}, _r_();
}), B.define("component/review/input-list", function(e, t, i) {
"use strict";
_i_("35b:9");
var n = e("component"), o = ".REVIEW_INPUT_LIST", r = !1, s = !1, a = !1;
function _(e) {
_i_("35b:83"), a = !0, r = !1, s = $(e.target).closest("li").find("input").prop("checked"), _r_();
}
function l(e) {
if (_i_("35b:84"), !r) {
var t = $(e.target).closest("li");
t.css("pointer-events", "none").find("input").prop("checked", !s).trigger("change"), setTimeout(function() {
_i_("35b:386"), a = !1, t.css("pointer-events", "auto"), _r_();
}, 360);
}
_r_();
}
function c(e) {
_i_("35b:85"), a && (e.stopPropagation(), e.preventDefault()), _r_();
}
function d() {
_i_("35b:86"), r = !0, _r_();
}
i.exports = n.extend({
val:function(e) {
if (_i_("35b:306"), "undefined" == typeof e) return _r_(this.$el.find("input:checked").val());
this.$el.find('input[value="' + e + '"]').prop("checked", !0), this.refresh(), _r_();
},
refresh:function() {
_i_("35b:307"), this.$el.find("li").removeClass("selected"), this.$el.find("input:checked").closest("li").addClass("selected"), _r_();
},
destroy:function() {
_i_("35b:308"), this.$el.off(o), _r_();
},
init:function() {
_i_("35b:309"), this.$el.addClass("input-list"), this.$el.on("change" + o, this.refresh.bind(this)).on("touchstart" + o, _.bind(this)).on("touchend" + o, l.bind(this)).on("click" + o, c.bind(this)), $(window).on("scroll", d.bind(this)), this.refresh(), _r_();
}
}), _r_();
}), B.define("component/review/travel-purpose", function(e, t, i) {
"use strict";
_i_("35b:10");
var n, o = e("component"), r = ".REVIEW_FORM_TRAVEL_PURPOSE";
i.exports = o.extend({
refresh:function() {
_i_("35b:310"), this.$el.find(":checked").length && n.show(), _r_();
},
destroy:function() {
_i_("35b:311"), this.$el.off(r), _r_();
},
init:function() {
_i_("35b:312"), n = this.$el.find(".revc-message-success"), this.$el.on("change" + r, this.refresh.bind(this)), this.refresh(), _r_();
}
}), _r_();
}), B.define("component/review/traveller-type", function(e, t, i) {
"use strict";
_i_("35b:11");
var n, o = e("component"), r = ".REVIEW_FORM_TRAVELLER_TYPE";
i.exports = o.extend({
refresh:function() {
_i_("35b:313"), this.$el.find(":checked").length && n.show(), _r_();
},
destroy:function() {
_i_("35b:314"), this.$el.off(r), _r_();
},
init:function() {
_i_("35b:315"), n = this.$el.find(".revc-message-success"), this.$el.on("change" + r, this.refresh.bind(this)), this.refresh(), _r_();
}
}), _r_();
}), B.define("component/review/property-rating", function(e, t, i) {
"use strict";
_i_("35b:12");
var n = e("component"), o = ".REVIEW_FORM_RATING", r = {
$hotel_staff:$('[name="hotel_staff"]'),
$hotel_services:$('[name="hotel_services"]'),
$hotel_clean:$('[name="hotel_clean"]'),
$hotel_comfort:$('[name="hotel_comfort"]'),
$hotel_value:$('[name="hotel_value"]'),
$hotel_location:$('[name="hotel_location"]')
}, s = $(".revc-section-property-rating .revc-property-score"), a = $(".revc-section-property-rating .revc-property-score-word"), _ = s.add(".revc-preview-header .revc-property-score"), l = 0;
i.exports = n.extend({
score:function() {
_i_("35b:316");
var e, t = 0, i = 0, n = 0;
for (e in r) n = r[e].filter(":checked").val(), n && (i++, t += parseInt(n, 10));
return n = t / i || 0, n *= 2.5, _r_(Math.round(10 * n) / 10);
},
scoreWord:function() {
_i_("35b:317");
var e = "";
return _r_(e);
},
refresh:function() {
_i_("35b:318");
var e = this.score();
s.html(e), a.val(this.scoreWord()), e != l && (_.removeClass("revc-bounce-in"), setTimeout(function() {
_i_("35b:482"), _.addClass("revc-bounce-in"), _r_();
}, 20)), l = e, _r_();
},
destroy:function() {
_i_("35b:319"), this.$el.off(o), _r_();
},
init:function() {
_i_("35b:320"), this.$el.on("change" + o, this.refresh.bind(this)), this.refresh(), _r_();
}
}), _r_();
}), B.define("component/review/review-preview", function(e, t, i) {
"use strict";
_i_("35b:13");
var n = e("component"), o = ".REVIEW_FORM_PREVIEW", r = B.require("utils/sanitize"), s = {
$score:$(".revc-section-property-rating .revc-property-score"),
$title:$('.revc input[name="title"]'),
$positive:$('.revc textarea[name="hotel_positive"]'),
$negative:$('.revc textarea[name="hotel_negative"]'),
$name:$('[name="custom_name"]'),
$non_anon:$('[name="non_anon"]'),
$tags:null,
$photos:null,
$scoreWord:$(".revc-section-property-rating .revc-property-score-word")
}, a = {
$score:$(".revc-preview-header .revc-property-score"),
$title:$(".revc-preview-header h3"),
$positive:$(".revc-preview-positive span"),
$negative:$(".revc-preview-negative span"),
$name:$(".revc-preview-name"),
$tags:$(".revc-preview-tags"),
$photos:$(".revc-preview-photos"),
$avatar:$(".revc-preview-avatar-placeholder"),
$empty:$(".revc-preview-empty")
};
s.$score.length || (s.$score = $(".review_score_preview")), s.$title.length || (s.$title = $('input[name="title"]')), s.$positive.length || (s.$positive = $('textarea[name="hotel_positive"]')), s.$negative.length || (s.$negative = $('textarea[name="hotel_negative"]')), i.exports = n.extend({
refresh:function() {
_i_("35b:321");
var e, t = r(s.$score.html()), i = r(s.$title.val()), n = (r(s.$positive.val()) || "").replace(/\n/g, "<br>"), o = (r(s.$negative.val()) || "").replace(/\n/g, "<br>"), _ = r(s.$name.val()) || "";
if (s.$non_anon.is(":checkbox")) {
e = !s.$non_anon.prop("checked");
var l = $(".rf_guest_name strong");
!e && l.length && (_ = l.html());
} else e = 0 == s.$non_anon.val();
a.$score.html(t), i = i ? '"' + i + '"' :s.$scoreWord.val(), a.$title.html(i), n ? a.$positive.html(n).parent().show() :a.$positive.parent().hide(), o ? a.$negative.html(o).parent().show() :a.$negative.parent().hide(), n || o ? a.$empty.hide() :a.$empty.show(), s.$tags ? a.$tags.show() :a.$tags.hide(), s.$photos ? a.$photos.show() :a.$photos.hide(), a.$avatar.html(B.jstmpl("revc_preview_avatar").render({
b_reviewer_name:_.replace(/^[^a-z]*/i, ""),
b_avatar_url:e ? !1 :$("#revc-avatar").val()
})), a.$name.html(_ || window.b_anonymous), _r_();
},
destroy:function() {
_i_("35b:322"), this.$el.off(o), _r_();
},
init:function() {
_i_("35b:323"), this.$el.closest("form").on("change" + o, this.refresh.bind(this)).on("keyup" + o, this.refresh.bind(this));
var e = this;
$(document).ajaxComplete(function() {
_i_("35b:453"), setTimeout(e.refresh.bind(e), 100), _r_();
}), this.refresh(), _r_();
}
}), _r_();
}), booking.jstmpl("revc_preview_avatar", function() {
_i_("35b:72");
var e = [ "\n	", "\n    ", "\n\n", "\n", "\n\n\n\n\n\n", "\n        ", '\n    <div class="avatar-mask ava-icon bicon-LoginIcon ', '"></div>\n', '\n        <img class="avatar-mask ava-pad-bottom ', '" alt=""\n            src="', '"\n            onerror="this.onerror = null;this.src = \'', "';\">\n    ", "\n        \n        ", "", "<script> (function(env) { var REVIWER_AVATAR_FALLBACK_ELEMENT_NAME_REGEXP = /", "/; function getFallbackElement(el) { while (el = el.previousSibling) { if (el.className && el.className.match && el.className.match(REVIWER_AVATAR_FALLBACK_ELEMENT_NAME_REGEXP)) { return el; } } } function rmEl(el) { el && el.parentNode && el.parentNode.removeChild && el.parentNode.removeChild(el); } function rmClassForEl(el, cssClass) { return el && cssClass && el.className && el.className.replace && ((el.className = el.className.replace(new RegExp('(?:^|\\\\s)'+ cssClass + '(?:\\\\s|$)'), ' ')) || 1); } function reviewer_avatar_fallback_onsuccess(e) { this.onerror = this.onload = null; rmEl(getFallbackElement(this)); } function reviewer_avatar_fallback_onerror() { this.onerror = this.onload = null; rmClassForEl(getFallbackElement(this), '", "') && rmEl(this); } if (env) { env.reviewer_avatar_fallback_onerror = reviewer_avatar_fallback_onerror; env.reviewer_avatar_fallback_onsuccess = reviewer_avatar_fallback_onsuccess; } })(window.B); </script> ", '\n\n        <div class="', "avatar-mask ava-icon bicon-LoginIcon ", " ", '"></div>\n\n        <img class="avatar-mask ava-pad-bottom ', '" src="', '" ', 'alt="" onload="B && B.reviewer_avatar_fallback_onsuccess && B.reviewer_avatar_fallback_onsuccess.call(this);" onerror="B && B.reviewer_avatar_fallback_onerror && B.reviewer_avatar_fallback_onerror.call(this);" ', ">\n    ", "\n\n\n", "\n\n\n\n", "\n\n\n\n\n", "\n		", '\n	<div class="avatar-mask ava-icon bicon-LoginIcon ', '" alt="', '\n\n\n        <div class="', "small" ], t = [ "size", "image_path", "reviewer_avatar_url", "b_is_desktop_site", "b_is_tablet", "reviewer_name", "size_class", "anonymous", "fe_reviewer_avatar_fallback_element_class_name", "fe_css_class_g_hidden", "fe_reviewer_avatar_fallback_already_included", "ip_country", "b_avatar_url", "b_reviewer_name" ];
return _r_(function(i) {
_i_("35b:142");
var n = "", o = this.fn;
function r(i) {
return _i_("35b:259"), o.MJ(o.MC(t[4])) && o.MJ(o.track_experiment("YdVRZYGGPUOEUMEKYYaSBaMYUC")) ? (i += e[1], i = s(i), i += e[2]) :(i += e[26], o.MJ(o.MB(t[0])) && o.MJ(/^(?:x-small|small|medium|large|x-large|xx-large)$/.test(o.MB(t[0]))) ? (i += e[0], o.MN("size_class", "ava-" + o.MB(t[0])), i += e[3]) :(i += e[0], o.MN("size_class", "ava-default"), i += e[3]), i += e[27], o.MD(t[1]) ? (i += e[0], o.MJ(/https?\:\/\//.test(o.MB(t[1]))) ? (i += e[28], o.MN("reviewer_avatar_url", o.MB(t[1])), i += e[0]) :o.MJ(/data\:image/.test(o.MB(t[1]))) ? (i += e[28], o.MN("reviewer_avatar_url", o.MB(t[1])), i += e[0]) :(i += e[28], o.MN(t[2], o.STATIC_HOSTNAME("/" + o.MB(t[1]), 0, 0, 0)), i += e[0]), i += e[3]) :o.MJ(o.MB(t[5])) && o.MJ(/[a-z]/i.test(o.substr(o.MB(t[5]), 0, 1))) && (i += e[1], o.MJ(o.MC(t[4])) && (i += e[5], o.MJ(o.track_experiment_stage("loc_ugc_tablet_no_letter_avatars", 1)), i += e[1]), i += e[0], o.MN(t[2], o.STATIC_HOSTNAME("/static/img/review/avatars/ava-" + o.substr(o.MB(t[5]), 0, 1).toLowerCase() + ".png", 0, 0, 0)), i += e[3]), i += e[2], o.MJ(o.MB(t[11]) + "" == "cn") && o.MJ(o.MB(t[2])) && o.MJ(/graph\.facebook/.test(o.MB(t[2]))) && (i += e[1], o.MN(t[2], o.STATIC_HOSTNAME("/static/img/review/avatars/ava-" + o.substr(o.MB(t[5]), 0, 1).toLowerCase() + ".png", 0, 0, 0)), i += e[3]), i += e[2], o.MJ(o.MB(t[5])) && o.MJ(o.MB(t[5]) + "" == "" + o.MB(t[7])) || o.MK(o.MB(t[2])) ? i += [ e[29], o.MB(t[6]), e[7] ].join("") :(i += e[1], o.MJ(o.MB(t[5])) && o.MJ(/[a-z]/i.test(o.substr(o.MB(t[5]), 0, 1))) ? (i += [ e[8], o.MB(t[6]), e[21], o.MB(t[2]), e[30] ].join(""), o.MJ(o.track_experiment("adUAVGHNNALFUZREUbaUC")) && (i += o.MC(t[5])), i += [ e[10], o.STATIC_HOSTNAME("/static/img/review/avatars/ava-" + o.substr(o.MB(t[5]), 0, 1).toLowerCase() + ".png", 0, 0, 0), e[11] ].join("")) :(i += e[12], i = a(i), i += e[31], i += [ e[18], o.MC(t[6]), e[19], o.MC(t[9]), e[19], o.MC(t[8]), e[13] ].join(""), i += [ e[20], o.MC(t[6]), e[21], o.MC(t[2]), e[22] ].join(""), i += e[23], i += e[24]), i += e[3]), i += e[25], o.MN("size_class", ""), i += e[3], o.MN("reviewer_avatar_url", ""), i += e[2]), i += e[3], _r_(i);
}
function s(i) {
return _i_("35b:260"), i += e[2], o.MJ(o.MB(t[0])) && o.MJ(/^(?:x-small|small|medium|large|x-large|xx-large)$/.test(o.MB(t[0]))) ? (i += e[1], o.MN("size_class", "ava-" + o.MB(t[0])), i += e[3]) :(i += e[1], o.MN("size_class", "ava-default"), i += e[3]), i += e[4], o.MD(t[1]) ? (i += e[1], o.MJ(/https?\:\/\//.test(o.MB(t[1]))) ? (i += e[5], o.MN("reviewer_avatar_url", o.MB(t[1])), i += e[1]) :o.MJ(/data\:image/.test(o.MB(t[1]))) ? (i += e[5], o.MN("reviewer_avatar_url", o.MB(t[1])), i += e[1]) :(i += e[5], o.MN(t[2], o.STATIC_HOSTNAME("/" + o.MB(t[1]), 0, 0, 0)), i += e[1]), i += e[3]) :o.MJ(o.MB(t[5])) && o.MJ(/[a-z]/i.test(o.substr(o.MB(t[5]), 0, 1))) && (i += e[1], o.MJ(o.MC(t[3])) ? (i += e[5], o.MJ(o.track_experiment_stage("loc_ugc_no_letter_avatars", 1)), i += e[1]) :o.MJ(o.MC(t[4])) && (i += e[5], o.MJ(o.track_experiment_stage("loc_ugc_tablet_no_letter_avatars", 1)), i += e[1]), i += e[3]), i += e[2], o.MJ(o.MB(t[5])) && o.MJ(o.MB(t[5]) + "" == "" + o.MB(t[7])) || o.MK(o.MB(t[2])) ? i += [ e[6], o.MB(t[6]), e[7] ].join("") :(i += e[1], o.MJ(o.MB(t[5])) && o.MJ(/[a-z]/i.test(o.substr(o.MB(t[5]), 0, 1))) ? i += [ e[8], o.MB(t[6]), e[9], o.MB(t[2]), e[10], o.STATIC_HOSTNAME("/static/img/review/avatars/ava-" + o.substr(o.MB(t[5]), 0, 1).toLowerCase() + ".png", 0, 0, 0), e[11] ].join("") :(i += e[12], i = a(i), i += e[17], i += [ e[18], o.MC(t[6]), e[19], o.MC(t[9]), e[19], o.MC(t[8]), e[13] ].join(""), i += [ e[20], o.MC(t[6]), e[21], o.MC(t[2]), e[22] ].join(""), i += e[23], i += e[24]), i += e[3]), i += e[25], o.MN("size_class", ""), i += e[3], o.MN("reviewer_avatar_url", ""), i += e[3], _r_(i);
}
function a(i) {
return _i_("35b:261"), i += e[3], o.MD(t[10]) || (i += e[13], o.MN("fe_reviewer_avatar_fallback_element_class_name", "flb-for-reviewer-avatar"), o.MN("fe_css_class_g_hidden", "g-hidden"), i += [ e[14], o.MC(t[8]), e[15], o.MC(t[9]), e[16] ].join(""), o.MN("fe_reviewer_avatar_fallback_already_included", 1)), i += e[3], _r_(i);
}
return n += e[0], i.unshift({
image_path:o.MC(t[12]),
reviewer_name:o.MC(t[13]),
size:e[32]
}), n = r(n), i.shift(), n += e[3], _r_(n);
});
}()), B.define("component/review/review-form", function(e, t, i) {
"use strict";
_i_("35b:14");
var n = e("component"), o = ".REVIEW_FORM", r = {
$submitButton:$(".revc-submit-form-button")
}, s = window.b_show_ratings_only;
i.exports = n.extend({
disabled:!1,
components:{},
data:window.review_form_data || {},
enable:function() {
_i_("35b:324"), this.disabled = !1, this.refresh(), _r_();
},
disable:function() {
_i_("35b:325"), this.disabled = !0, this.refresh(), _r_();
},
errors:function() {
_i_("35b:326");
var e = [];
return $(".revc-section").removeClass("revc-has-errors"), s || ($('[name="stay_purpose"]:checked').length || e.push('[name="stay_purpose"]'), $('[name="stay_customer_type"]:checked').length || e.push('[name="stay_customer_type"]')), $('.revc-rating input[type="radio"]:checked').length || e.push(".revc-rating"), _r_(e.length ? e :!1);
},
showErrors:function() {
_i_("35b:327");
var e = this.errors();
if (e) {
for (var t in e) $(e[t]).closest(".revc-section").addClass("revc-has-errors");
$("html, body").animate({
scrollTop:$(e[0]).closest(".revc-section").offset().top
}, 300);
}
_r_();
},
submit:function(e) {
_i_("35b:328"), this.errors() && (e.preventDefault(), this.showErrors()), e.preventDefault(), alert("Submission disabled"), _r_();
},
refresh:function(e) {
_i_("35b:329"), e && e.target && $(e.target).closest(".revc-section").removeClass("revc-has-errors").addClass("revc-has-answer"), r.$submitButton.prop("disabled", this.disabled), _r_();
},
destroy:function() {
_i_("35b:330"), this.$el.off(o), _r_();
},
init:function() {
_i_("35b:331"), this.$el.on("change" + o, this.refresh.bind(this)), this.$el.on("keyup" + o, this.refresh.bind(this)), this.$el.on("submit" + o, this.submit.bind(this)), B.env.review_form = this, this.refresh(), _r_();
}
}), _r_();
}), /* @preserve
    Autosize 3.0.13
    license: MIT
    http://www.jacklmoore.com/autosize
*/
function(e, t) {
if (_i_("35b:16"), "function" == typeof define && define.amd) define([ "exports", "module" ], t); else if ("undefined" != typeof exports && "undefined" != typeof module) t(exports, module); else {
var i = {
exports:{}
};
t(i.exports, i), e.autosize = i.exports;
}
_r_();
}(this, function(e, t) {
"use strict";
_i_("35b:15");
var i = "function" == typeof Set ? new Set() :function() {
_i_("35b:262");
var e = [];
return _r_({
has:function(t) {
return _i_("35b:454"), _r_(Boolean(e.indexOf(t) > -1));
},
add:function(t) {
_i_("35b:455"), e.push(t), _r_();
},
"delete":function(t) {
_i_("35b:456"), e.splice(e.indexOf(t), 1), _r_();
}
});
}();
function n(e) {
_i_("35b:87");
var t = void 0 === arguments[1] ? {} :arguments[1], n = t.setOverflowX, o = void 0 === n ? !0 :n, r = t.setOverflowY, s = void 0 === r ? !0 :r;
if (!e || !e.nodeName || "TEXTAREA" !== e.nodeName || i.has(e)) return _r_();
var a = null, _ = null, l = e.clientWidth;
function c() {
_i_("35b:143");
var t = window.getComputedStyle(e, null);
_ = t.overflowY, "vertical" === t.resize ? e.style.resize = "none" :"both" === t.resize && (e.style.resize = "horizontal"), a = "content-box" === t.boxSizing ? -(parseFloat(t.paddingTop) + parseFloat(t.paddingBottom)) :parseFloat(t.borderTopWidth) + parseFloat(t.borderBottomWidth), isNaN(a) && (a = 0), h(), _r_();
}
function d(t) {
_i_("35b:144");
var i = e.style.width;
e.style.width = "0px", e.offsetWidth, e.style.width = i, _ = t, s && (e.style.overflowY = t), p(), _r_();
}
function u(t) {
_i_("35b:145");
var i = window.pageYOffset, n = document.body.scrollTop, o = e.style.height;
e.style.height = "auto";
var r = e.scrollHeight + a;
if (0 === e.scrollHeight) return e.style.height = o, _r_();
e.style.height = r + "px", l = e.clientWidth, document.documentElement.scrollTop = i, document.body.scrollTop = n, _r_();
}
function p(e) {
_i_("35b:146"), u(e), _r_();
}
function h() {
_i_("35b:147");
var t = e.style.height;
p(t);
var i = window.getComputedStyle(e, null);
if (i.height !== e.style.height ? "visible" !== _ && d("visible") :"hidden" !== _ && d("hidden"), t !== e.style.height) {
var n = document.createEvent("Event");
n.initEvent("autosize:resized", !0, !1), e.dispatchEvent(n);
}
_r_();
}
var f = function() {
_i_("35b:263"), e.clientWidth !== l && h(), _r_();
}, v = function(t) {
_i_("35b:387"), window.removeEventListener("resize", f), e.removeEventListener("input", h), e.removeEventListener("keyup", h), e.removeEventListener("autosize:destroy", v), i["delete"](e), Object.keys(t).forEach(function(i) {
_i_("35b:471"), e.style[i] = t[i], _r_();
}), _r_();
}.bind(e, {
height:e.style.height,
resize:e.style.resize,
overflowY:e.style.overflowY,
overflowX:e.style.overflowX,
wordWrap:e.style.wordWrap
});
e.addEventListener("autosize:destroy", v), "onpropertychange" in e && "oninput" in e && e.addEventListener("keyup", h), window.addEventListener("resize", f), e.addEventListener("input", h), e.addEventListener("autosize:update", h), i.add(e), o && (e.style.overflowX = "hidden", e.style.wordWrap = "break-word"), c(), _r_();
}
function o(e) {
if (_i_("35b:88"), !e || !e.nodeName || "TEXTAREA" !== e.nodeName) return _r_();
var t = document.createEvent("Event");
t.initEvent("autosize:destroy", !0, !1), e.dispatchEvent(t), _r_();
}
function r(e) {
if (_i_("35b:89"), !e || !e.nodeName || "TEXTAREA" !== e.nodeName) return _r_();
var t = document.createEvent("Event");
t.initEvent("autosize:update", !0, !1), e.dispatchEvent(t), _r_();
}
var s = null;
"undefined" == typeof window || "function" != typeof window.getComputedStyle ? (s = function(e) {
return _i_("35b:264"), _r_(e);
}, s.destroy = function(e) {
return _i_("35b:265"), _r_(e);
}, s.update = function(e) {
return _i_("35b:266"), _r_(e);
}) :(s = function(e, t) {
return _i_("35b:267"), e && Array.prototype.forEach.call(e.length ? e :[ e ], function(e) {
return _i_("35b:472"), _r_(n(e, t));
}), _r_(e);
}, s.destroy = function(e) {
return _i_("35b:268"), e && Array.prototype.forEach.call(e.length ? e :[ e ], o), _r_(e);
}, s.update = function(e) {
return _i_("35b:269"), e && Array.prototype.forEach.call(e.length ? e :[ e ], r), _r_(e);
}), t.exports = s, _r_();
}), B.define("component/review/autosize", function(e, t, i) {
"use strict";
_i_("35b:17");
var n = e("component");
i.exports = n.extend({
init:function() {
_i_("35b:332"), autosize(this.$el), _r_();
}
}), _r_();
}), B.define("component/review/name-control", function(e, t, i) {
"use strict";
_i_("35b:18");
var n = e("component");
i.exports = n.extend({
init:function() {
_i_("35b:333"), this.$el.find(".rf_with_name").change(function() {
_i_("35b:483"), this.$el.find(".rf_fieldset_custom_name input").val(""), this.$el.toggleClass("rf-name-control--anonymous"), _r_();
}.bind(this)), _r_();
}
}), _r_();
}), B.define("component/review/score-preview", function(e, t, i) {
"use strict";
_i_("35b:19");
var n = e("review/model"), o = e("review/dom"), r = e("component"), s = 0;
i.exports = r.extend({
init:function() {
_i_("35b:334");
var e = this;
function t() {
_i_("35b:414"), n.getScore(o.getScoreRatings()).then(function(t) {
_i_("35b:484"), e.$el.text(t.number), n.setFormScore(t), t.number != s && (e.$el.removeClass("bounce-in"), setTimeout(function() {
_i_("35b:528"), e.$el.addClass("bounce-in"), _r_();
}, 20)), s = t, _r_();
}), _r_();
}
n.events.on("form:set:score_components", t), _r_();
}
}), _r_();
}), B.define("component/review/input", function(e, t, i) {
"use strict";
_i_("35b:20");
var n = e("review/model"), o = e("review/dom"), r = e("component"), s = "selected";
function a(e, t) {
_i_("35b:90"), t || o.toggleCompleteMessage(e, !0), e && (n.events.trigger("form:set:*"), n.events.trigger("form:set:" + e)), _r_();
}
function _(e, t, i) {
_i_("35b:91");
var n = e.attr("data-type"), o = e.find("label"), r = o.find("input[type=radio], input[type=checkbox]");
if (i && e.is(".rf_traveller_type_fieldset")) {
var _ = [ "friends", "partner", "family", "colleagues" ], l = null;
"alone" === i.val() ? l = _ :_.indexOf(i.val()) >= 0 && (l = [ "alone" ]), l && l.forEach(function(t) {
_i_("35b:432"), e.find('input[type=checkbox][value="' + t + '"]').prop("checked", !1).closest("label").removeClass(s), _r_();
});
}
var c = r.filter(":checked");
o.removeClass(s), c.closest("label").addClass(s), c.length > 0 && a(n, t), _r_();
}
function l(e) {
_i_("35b:92");
var t = $(e.target), i = t.closest("fieldset");
_(i, !1, t), c(t), _r_();
}
function c(e) {
_i_("35b:93");
var t = e.closest("[data-track-question-click]").attr("data-track-question-click");
if (!t) return _r_();
JSON.parse($.trim(t)).forEach(function(e) {
_i_("35b:270"), e.hash && e.goal && B.et.customGoal(e.hash, e.goal), _r_();
}), _r_();
}
function d(e) {
_i_("35b:94");
var t = e.find("input[type=radio], input[type=checkbox]");
t.bind("change", l), e.data("condition") ? u(e) :e.find(".rf_additional_question[data-condition]").length && e.find(".rf_additional_question[data-condition]").each(function(e, t) {
_i_("35b:415"), u($(t)), _r_();
}), e.find("[data-num-only]").length && p(e), _r_();
}
function u(e) {
_i_("35b:95");
var t = e.data("condition").split(":");
if (2 === t.length) {
var i = t[0], n = t[1].split(","), o = [];
$.each(n, function(e, t) {
_i_("35b:388"), o.push("[value=" + t.trim() + "]"), _r_();
}), o = o.join(","), $("[name=" + i + "]").on("change", function() {
_i_("35b:389");
var t = $("[name=" + i + "]:checked");
t.length && t.filter(o).length > 0 ? (e.slideDown("fast"), B.eventEmitter.trigger("GENERAL:dom_changed")) :e.slideUp("fast").find("input[type=checkbox], input[type=radio]").removeAttr("checked").trigger("change").end().find("input[type=number], input[type=text]").val("").end().find(".rf_feedback_complete").addClass("g-hidden"), _r_();
});
}
_r_();
}
function p(e) {
_i_("35b:96");
var t = e.find("[data-num-only]");
t.on("keypress", function(e) {
_i_("35b:271");
var t = String.fromCharCode(e.keyCode), i = /[0-9]|\./;
i.test(t) || (e.returnValue = !1, e.preventDefault()), _r_();
}), _r_();
}
i.exports = r.extend({
init:function() {
_i_("35b:335"), d(this.$el), setTimeout(function() {
_i_("35b:485"), _(this.$el, !0), _r_();
}.bind(this), 4), _r_();
}
}), _r_();
}), B.define("component/review/preview", function(e, t, i) {
"use strict";
_i_("35b:21");
var n = e("review/model"), o = e("review/dom"), r = e("component"), s = function() {
_i_("35b:225");
var e = window.B && window.B[sNSStartup], t = null, i = $("#review_preview_modal");
return _r_({
getNode:function() {
return _i_("35b:433"), _r_(i);
},
show:function(n) {
_i_("35b:434"), e && e.lightbox && e.lightbox.show(i, {
bCanScroll:!0
}), $.featherlight && (t = $.featherlight(i, {
persist:!0
})), _r_();
},
hide:function() {
_i_("35b:435"), e && e.lightbox && e.lightbox.hide(), $.featherlight && (i.hide(), t.close()), _r_();
}
});
}();
function a() {
_i_("35b:97");
var e = $("#two_part_redesign_form_part_one"), t = $("#rf_question_item_id_2").offset().top;
$(document.body).delegate(".review_preview_cta_submit", "click", function(t) {
_i_("35b:272"), t.preventDefault(), e.submit(), _r_();
}), $(document.body).delegate(".review_preview_cta_edit", "click", function(e) {
_i_("35b:273"), e.preventDefault(), s.hide(), $("html, body").stop().animate({
scrollTop:t - 20
}, 500), _r_();
}), _r_();
}
function _() {
_i_("35b:98");
var e = $.extend({
b_score:n.getFormScore()
}, B.env.review_preview, o.reviewInput()), t = B.jstmpl("review_preview").render(e);
s.getNode().html(t), _r_();
}
i.exports = r.extend({
init:function() {
_i_("35b:336"), a(), this.$el.click(function(e) {
_i_("35b:457"), e.preventDefault(), _(), s.show(), _r_();
}), n.events.on("change:score", _), _r_();
}
}), _r_();
}), B.define("component/review/show-more", function(e, t, i) {
"use strict";
_i_("35b:22");
var n = e("review/model"), o = e("component");
i.exports = o.extend({
init:function() {
_i_("35b:337"), this.$el.find(".rf-show-more__link").on("click", function(e) {
_i_("35b:486"), e.preventDefault(), this.$el.addClass("g-hidden"), $(".rf_question_item_hidden").removeClass("rf_question_item_hidden"), n.events.trigger("REVIEW_FORM:show_more"), _r_();
}.bind(this)), _r_();
}
}), _r_();
}), B.define("component/review/submit-validation", function(e, t, i) {
"use strict";
_i_("35b:23");
var n = e("component"), o = e("review/model"), r = e("ga-tracker"), s = "Property UGC", a = e("review/dom"), _ = e("events"), l = window.b_show_ratings_only;
i.exports = n.extend({
init:function() {
_i_("35b:338"), this.$el.bind("click", function(e, t) {
_i_("35b:458");
var i = a.reviewInput(), n = [];
n = a.getInvalidReviewInputs(), B.env.b_hide_trip_purpose || l || i.b_stay_purpose || n.push("stay_purpose");
var c = Object.keys(a.getScoreRatings()).length > 0;
if (c || n.push("score_components"), n.length > 0) return e.preventDefault(), r.trackEvent(s, "Validation Error", n.join()), n.forEach(function(e) {
_i_("35b:523"), a.toggleValidationMessage(e, !0), _r_();
}), a.scrollTo(n[0]), _.emit("review:validation_error"), _r_(!1);
o.getScore(a.getScoreRatings()).then(function(e) {
_i_("35b:524"), r.trackEvent(s, "Submit property review", e.number), _r_();
}), _r_();
}), _r_();
}
}), _r_();
}), B.define("component/review/agree", function(e, t, i) {
"use strict";
_i_("35b:24");
var n = e("component");
function o(e) {
_i_("35b:99"), B.google.trackEvent(B.google.clickTracker, "Action: Review", "Review agree: " + e), _r_();
}
i.exports = n.extend({
init:function() {
_i_("35b:339");
var e = this, t = e.$el.find(".rev_agree_list");
function i(i) {
_i_("35b:416"), i.next().fadeIn("slow").addClass("active"), i.remove(), t.find(".active").length <= 0 && e.$el.hide(), _r_();
}
e.$el.delegate(".vote_action", "click", function(e) {
_i_("35b:459");
var n = $(e.currentTarget), r = n.data("value"), s = t.find(".active"), a = s.data("invitation-id"), _ = s.data("review-url");
if (null === r) return i(s), o("SKIP"), _r_();
return $.ajax({
type:"POST",
url:"/review_agree",
data:{
review_invitation_id:a,
review_url:_,
answer_value:r
},
complete:function(e) {
_i_("35b:525"), i(s), o(1 === r ? "YES" :"NO"), _r_();
}
}), _r_(!1);
}), e.$el.delegate(".close_action", "click", function() {
_i_("35b:460"), e.$el.prev(".hot_or_not_title").hide(), e.$el.prevAll(".divider-line").css("margin-bottom", "1.3em"), e.$el.hide(), _r_();
}), _r_();
}
}), _r_();
}), B.define("component/review/photo-upload", function(e, t, i) {
"use strict";
_i_("35b:25");
var n = e("component"), o = e("mdot" === B.env.b_site_type ? "ugc/mobile/lightbox" :"lightbox"), r = e("review/model"), s = B.jstmpl, a = "review_invitation_id", _ = {
1e3:"ugcc_photo_upload_error_file_failed",
1001:"ugcc_photo_upload_error_file_type",
1002:"ugcc_photo_upload_error_file_name",
1003:"ugcc_photo_upload_error_file_size"
};
"locationreview" === B.env.b_action && B.env.b_review_photo_upload_url.length > 0 && (a = "photo_upload_id");
function l(e) {
return _i_("35b:100"), _r_(e.find(".rf_photo_upload_photo_item__photo"));
}
function c(e, t) {
_i_("35b:101"), l(e).toggleClass("rf_photo_upload_photo_item_loading", t), _r_();
}
function d(e, t) {
_i_("35b:102"), e.attr("data-photo-id", t), _r_();
}
function u(e) {
_i_("35b:103"), e.each(function(e, t) {
_i_("35b:274"), $(t).replaceWith($(t).val("").clone(!0)), _r_();
}), _r_();
}
function p() {
if (_i_("35b:104"), $("#photo_counter").length) return _r_();
var e = '<input type="hidden" name="photo_counter" id="photo_counter" value="0"/>';
$(".rf_photo_upload_photos_wrapper").parents("fieldset").append(e), _r_();
}
function h() {
if (_i_("35b:105"), !$("#photo_counter").length) return _r_();
$("#photo_counter").val($(".rf_photo_upload_photos_wrapper li").length), _r_();
}
function f(e, t) {
_i_("35b:106");
var i = new FileReader(), n = $(".rf_photo_upload_photos_wrapper"), o = $($.parseHTML(s("review_photo_upload_photo").render({
photo_type:t
}).trim()));
return i.onload = function(e) {
_i_("35b:275");
var t = e.target.result;
l(o).attr("style", "background-image:url(" + t + ");"), n.prepend(o), _r_();
}, i.readAsDataURL(e), c(o, !0), _r_(o);
}
function v(e, t, i) {
_i_("35b:107");
var n = e.attr("data-photo-id"), o = {
photo_id:n
};
if ("locationreview" !== B.env.b_action && (a = w(t)), o[a] = m(t), e.remove(), h(), !n) return i(), _r_();
$.ajax({
url:b(t),
type:"POST",
data:o,
success:i
}), _r_();
}
function b(e) {
return _i_("35b:108"), _r_("hotel" === e ? B.env.b_review_delete_photo_url :B.env.b_destination_review_delete_photo_url);
}
function m(e) {
return _i_("35b:109"), _r_("hotel" === e ? B.env.b_review_photo_upload_invitation_id :B.env.b_destination_review_photo_upload_id);
}
function g(e) {
return _i_("35b:110"), _r_("hotel" === e ? B.env.b_review_photo_upload_url :B.env.b_destination_review_photo_upload_url);
}
function w(e) {
return _i_("35b:111"), _r_("hotel" === e ? "review_invitation_id" :"photo_upload_id");
}
i.exports = n.extend({
init:function() {
_i_("35b:340");
var e = $(".rf_photo_upload_photo_item").length || 0, t = e > 1 ? e :0, i = 20, n = 0, s = [];
function l() {
_i_("35b:417"), $(".rf_photo_upload_input_wrapper").toggleClass("g-hidden", t >= i), _r_();
}
function b(e, i) {
_i_("35b:418");
var o = new FormData(), u = m(i);
"locationreview" !== B.env.b_action && (a = w(i)), o.append("rich_output", 1), o.append("upload", e), o.append(a, u);
var p = f(e, i);
$.ajax({
url:g(i),
type:"POST",
data:o,
cache:!1,
dataType:"json",
contentType:!1,
processData:!1,
success:function(e) {
if (_i_("35b:511"), "ok" !== e.message) return _r_();
c(p, !1), e.photo_id && d(p, e.photo_id), t++, l(), r.events.trigger("REVIEW_FORM:photo_upload", {
photo_id:parseInt(e.photo_id, 10)
}), h(), _r_();
},
error:function(i) {
_i_("35b:512");
var n = i.responseText ? JSON.parse(i.responseText) :"", o = n ? _[n.error_code] :_[1e3];
p.remove(), t--, s.push(B.jstmpl.translations(o, null, {
file_name:e.name
})), _r_();
},
complete:function() {
_i_("35b:513"), n--, 0 === n && s.length > 0 && y(), _r_();
}
}), _r_();
}
function y() {
if (_i_("35b:419"), !o) return _r_();
var e = B.jstmpl("ugcc_photo_upload_error_message"), t = e.render({
errors:s,
isMobile:!0
});
o.show(t, {
hideCallBack:function() {
_i_("35b:514"), $(".js-photo-upload-photo-errors").remove(), _r_();
}
}), _r_();
}
this.$el.find(".rf_photo_upload_input").change(function(e) {
_i_("35b:487");
var t = e.target, o = $(".rf_photo_upload_photo_item").length, r = i - o, a = $(t).data("uploadType") || "hotel";
n = Math.min(r, t.files && t.files.length || 0), s = [], t.files && $.each(t.files, function(e) {
_i_("35b:529");
var i = t.files[e];
if (e >= r) return _r_(!1);
if (!i) return _r_();
b(i, a), _r_();
}), _r_();
}).click(function(e) {
_i_("35b:461"), e.currentTarget.value = "", _r_();
}), this.$el.on("click", ".js-photo-upload-photo-remove", function(e) {
_i_("35b:488"), e.preventDefault();
var i = $(e.target), n = i.closest(".rf_photo_upload_photo_item"), o = n.data("photo-id"), s = n.data("photoType") || "hotel";
v(n, s, function() {
_i_("35b:526"), t--, l(), r.events.trigger("REVIEW_FORM:photo_remove", {
photo_id:parseInt(o, 10)
}), _r_();
}), u(this.$el.find(".rf_photo_upload_input")), _r_();
}.bind(this)), l(), p(), _r_();
}
}), _r_();
}), B.define("component/review/score-component", function(e, t, i) {
"use strict";
_i_("35b:26");
var n = e("review/model"), o = e("review/dom"), r = e("component");
function s(e, t) {
_i_("35b:112");
var i = e.find(".rf-score-component__answer");
if (t) return _r_(i.filter('[data-value="' + t + '"]'));
return _r_(i);
}
i.exports = r.extend({
init:function() {
_i_("35b:341");
var e = this.$el.attr("data-name");
n.events.on("form:set:score_components", function() {
_i_("35b:489");
var t = o.getScoreRatings();
this.$el.toggleClass("rf-score-component--answered", t.hasOwnProperty(e)), s(this.$el).removeClass("rf-score-component__answer--selected"), s(this.$el, t[e]).addClass("rf-score-component__answer--selected"), _r_();
}.bind(this)), _r_();
}
}), _r_();
}), B.define("component/review/room-photos", function(e, t, i) {
"use strict";
_i_("35b:27");
var n = e("component"), o = B[sNSStartup].lightbox;
function r() {
_i_("35b:113"), $(".room-rate-gallery-highlight-control").on("click", function(e) {
_i_("35b:276"), e.preventDefault();
var t = $(this), i = t.parents(".room-rate-wrapper-block"), n = t.hasClass("room-rate-gallery-highlight-left") ? "left" :"right", o = i.find(".room-rate-gallery-highlight-elem"), r = o.siblings(".room-rate-gallery-highlight-elem.active"), s = i.find(".room-rate-gallery-thumb-elem"), a = s.siblings(".room-rate-gallery-thumb-elem.active");
r.removeClass("active"), a.removeClass("active"), "left" === n ? (r.prev().length ? r.prev().addClass("active") :o.last().addClass("active"), a.prev().length ? a.prev().addClass("active") :s.last().addClass("active")) :(r.next().length ? r.next().addClass("active") :o.first().addClass("active"), a.next().length ? a.next().addClass("active") :s.first().addClass("active")), _r_();
}), $(".room-rate-gallery-thumb-elem").on("click", function(e) {
_i_("35b:277"), e.preventDefault();
var t = $(this), i = t.parents(".room-rate-wrapper-block"), n = t.data("photo-id"), o = i.find(".room-rate-gallery-highlight-elem"), r = o.siblings(".room-rate-gallery-highlight-elem.active"), s = o.siblings('[data-photo-id="' + n + '"]'), a = i.find(".room-rate-gallery-thumb-elem.active");
t.hasClass("active") || (r.removeClass("active"), a.removeClass("active"), s.addClass("active"), t.addClass("active")), _r_();
}), _r_();
}
function s(e) {
_i_("35b:114");
var t = e.parents(".room-rate-wrapper-block"), i = t.find(".room-rate-comments").val(), n = t.find('[name="photo_rating"]:checked').val() || "", r = t.find(".room-rate-gallery-wrapper").data("room-id"), s = $(".rf_rate_your_room"), a = s.find(".rf_feedback"), _ = {
invitation_id:B.strings.get("review_rate_room_invitation_id"),
room_id:r,
value:n,
comments:i
};
$.ajax({
url:"/review/room_reality_check?aid=" + encodeURIComponent(B.env.b_aid) + "&stype=" + encodeURIComponent(B.env.b_site_type_id) + "&lang=" + encodeURIComponent(B.env.b_lang_for_url),
dataType:"json",
type:"post",
data:_,
success:function(e) {
_i_("35b:390"), e.success ? (s.removeClass("rf_fieldset_required"), a.hide(), o.hide(), $(".room-banner-finish").show(), $(".room-rate-button").unbind("click")) :(a.show(), s.addClass("rf_fieldset_required")), _r_();
}
}), _r_();
}
i.exports = n.extend({
init:function() {
_i_("35b:342"), $(".room-rate-button").click(function(e) {
_i_("35b:462"), e.preventDefault(), o.show("#room-rate-modal", {
bCanScroll:!0,
customWrapperClassName:"room-rate-modal-wrapper"
}, r), _r_();
}), $(".room-rate-submit").on("click", function(e) {
_i_("35b:463"), e.preventDefault(), s($(this)), _r_();
}), $(".room-rate-cancel").on("click", function(e) {
_i_("35b:464"), e.preventDefault(), o.hide(), _r_();
}), _r_();
}
}), _r_();
}), B.define("component/review/preview-inline", function(e, t, i) {
"use strict";
_i_("35b:28");
var n = e("component"), o = e("review/model"), r = e("review/dom"), s = window.b_avatar_url || !1;
i.exports = n.extend({
setAvatar:function(e) {
_i_("35b:343"), s = e || !1, this.render(), _r_();
},
render:function() {
_i_("35b:344");
var e = $.extend({
b_score:o.getFormScore()
}, B.env.review_preview, r.reviewInput());
s && (e.b_avatar_url = s), this.$el.find(".js-rf-preview-inline").html(B.jstmpl("review_preview_item").render(e)), _r_();
},
init:function() {
_i_("35b:345"), r.onFormChange(this.render.bind(this)), o.events.on("change:score", this.render.bind(this)), this.$el.removeClass("g-hidden"), this.render(), _r_();
}
}), _r_();
}), booking.jstmpl("review_preview", function() {
_i_("35b:73");
var e = [ '<div class="review_preview_modal_header">\n    <h2 class="review_preview_modal_title">', '</h2>\n</div>\n<div class="review_preview_modal_content">\n    ', "\n", "", '\n\n<div class="review_item clearfix">\n    <div class="review_item_reviewer">\n        <h4>', '</h4>\n        <span class="reviewer_country">\n            <i class="reviewer_country_flag sflag slang-', '"></i>\n            ', '\n        </span>\n    </div>\n    <div class="review_item_review">\n        <div class="review_item_review_container', " lang_ltr", '">\n            <div class="review_item_review_header">\n                <div class="review_item_header_score_container">\n                    <div class="review_item_review_score" title="', '">', '</div>\n                </div>\n                <div class="review_item_header_content_container">\n                    <div class="review_item_header_content">\n                        ', '\n                            "', '"\n                        ', "\n                            ", "\n                        ", '\n                    </div>\n                </div>\n            </div>\n            <div class="review_item_review_content with_newline">\n                ', '\n                    <p class="review_neg">', '<i class="review_item_icon">&#45577;</i>', " ", "</p>\n                ", "\n                ", '\n                    <p class="review_pos">', '<i class="review_item_icon">&#45575;</i>', '\n                    <p class="review_none"><em>', "</em></p>\n                ", "\n            </div>\n        </div>\n    </div>\n</div>\n", '\n    <div class="review_preview_cta_wrapper">\n        <a class="rf_submit review_preview_cta_edit">', '</a>\n        <a class="rf_submit review_preview_cta_submit">', "</a>\n    </div>\n</div>\n" ], t = [ "review_preview_lightbox_header", "fe_reviewer_name", "b_preview_reviewer_name", "b_is_non_anonymous", "b_review_custom_name", "anonymous", "b_guest_country", "b_guest_country_name", "b_lang_is_rtl", "b_score", "b_review_title", "b_review_negative", "b_review_positive", "reviews_no_comments2", "review_preview_edit", "review_preview_cta_submit" ];
return _r_(function(i) {
_i_("35b:148");
var n = "", o = this.fn;
function r(i) {
_i_("35b:278"), i += e[2];
var n = "";
return n += e[3], o.MJ(o.MC(t[3])) ? n += [ e[3], o.MC(t[2]), e[3] ].join("") :(n += e[3], n += o.MD(t[4]) ? [ e[3], o.MC(t[4]), e[3] ].join("") :[ e[3], o.MB(t[5]), e[3] ].join(""), n += e[3]), n += e[3], o.MN(t[1], n), i += [ e[4], o.F.html(o.MB(t[1])), e[5], o.MC(t[6]), e[6], o.MC(t[7]), e[7] ].join(""), o.MK(o.MC(t[8])) && (i += e[8]), i += [ e[9], o.MG((o.MC(t[9]) || {}).word), e[10], o.MG((o.MC(t[9]) || {}).number), e[11] ].join(""), i += o.MJ(o.MC(t[10])) ? [ e[12], o.MC(t[10]), e[13] ].join("") :[ e[14], o.MG((o.MC(t[9]) || {}).word), e[15] ].join(""), i += e[16], o.MD(t[11]) && (i += e[17], i += [ e[18], o.MC(t[11]), e[19] ].join(""), i += e[20]), i += e[21], o.MD(t[12]) && (i += e[22], i += [ e[23], o.MC(t[12]), e[19] ].join(""), i += e[20]), i += e[21], o.MK(o.MC(t[11]) || o.MC(t[12])) && (i += [ e[24], o.MB(t[13]), e[25] ].join("")), i += e[26], _r_(i);
}
function s(i) {
return _i_("35b:279"), i += [ e[0], o.MB(t[0]), e[1] ].join(""), i = r(i), i += [ e[27], o.MB(t[14]), e[28], o.MB(t[15]), e[29] ].join(""), _r_(i);
}
return n = s(n), _r_(n);
});
}()), booking.jstmpl("review_preview_item", function() {
_i_("35b:74");
var e = [ "\n", "", '\n\n<div class="review_item clearfix">\n    <div class="review_item_reviewer">\n        <h4>', '</h4>\n        <span class="reviewer_country">\n            <i class="reviewer_country_flag sflag slang-', '"></i>\n            ', '\n        </span>\n    </div>\n    <div class="review_item_review">\n        <div class="review_item_review_container', " lang_ltr", '">\n            <div class="review_item_review_header">\n                <div class="review_item_header_score_container">\n                    <div class="review_item_review_score" title="', '">', '</div>\n                </div>\n                <div class="review_item_header_content_container">\n                    <div class="review_item_header_content">\n                        ', '\n                            "', '"\n                        ', "\n                            ", "\n                        ", '\n                    </div>\n                </div>\n            </div>\n            <div class="review_item_review_content with_newline">\n                ', '\n                    <p class="review_neg">', '<i class="review_item_icon">&#45577;</i>', " ", "</p>\n                ", "\n                ", '\n                    <p class="review_pos">', '<i class="review_item_icon">&#45575;</i>', '\n                    <p class="review_none"><em>', "</em></p>\n                ", "\n            </div>\n        </div>\n    </div>\n</div>\n" ], t = [ "fe_reviewer_name", "b_preview_reviewer_name", "b_is_non_anonymous", "b_review_custom_name", "anonymous", "b_guest_country", "b_guest_country_name", "b_lang_is_rtl", "b_score", "b_review_title", "b_review_negative", "b_review_positive", "reviews_no_comments2" ];
return _r_(function(i) {
_i_("35b:149");
var n = "", o = this.fn;
function r(i) {
_i_("35b:280"), i += e[0];
var n = "";
return n += e[1], o.MJ(o.MC(t[2])) ? n += [ e[1], o.MC(t[1]), e[1] ].join("") :(n += e[1], n += o.MD(t[3]) ? [ e[1], o.MC(t[3]), e[1] ].join("") :[ e[1], o.MB(t[4]), e[1] ].join(""), n += e[1]), n += e[1], o.MN(t[0], n), i += [ e[2], o.F.html(o.MB(t[0])), e[3], o.MC(t[5]), e[4], o.MC(t[6]), e[5] ].join(""), o.MK(o.MC(t[7])) && (i += e[6]), i += [ e[7], o.MG((o.MC(t[8]) || {}).word), e[8], o.MG((o.MC(t[8]) || {}).number), e[9] ].join(""), i += o.MJ(o.MC(t[9])) ? [ e[10], o.MC(t[9]), e[11] ].join("") :[ e[12], o.MG((o.MC(t[8]) || {}).word), e[13] ].join(""), i += e[14], o.MD(t[10]) && (i += e[15], i += [ e[16], o.MC(t[10]), e[17] ].join(""), i += e[18]), i += e[19], o.MD(t[11]) && (i += e[20], i += [ e[21], o.MC(t[11]), e[17] ].join(""), i += e[18]), i += e[19], o.MK(o.MC(t[10]) || o.MC(t[11])) && (i += [ e[22], o.MB(t[12]), e[23] ].join("")), i += e[24], _r_(i);
}
return n = r(n), _r_(n);
});
}()), booking.jstmpl("review_photo_upload_photo", function() {
_i_("35b:75");
var e = [ '<li class="rf_photo_upload_photo_item" data-photo-type="', '" data-photo-id="', '">\n   <div class="rf_photo_upload_photo_item__photo"style="', "background-image: url('", "');", '" style="z-index: 1;"></div>\n   <a href="#" class="rf_photo_upload_photo_item__icon js-photo-upload-photo-remove"><i class="bicon-btnclose" style="font-size: 25px; color: #9D2124; z-index: 2;"></i></a>\n</li>\n' ], t = [ "photo_type", "b_id", "b_url" ];
return _r_(function(i) {
_i_("35b:150");
var n = "", o = this.fn;
function r(i) {
return _i_("35b:281"), i += [ e[0], o.MC(t[0]), e[1], o.MC(t[1]), e[2] ].join(""), o.MD(t[2]) && (i += [ e[3], o.STATIC_HOSTNAME(o.MC(t[2]), 0, 0, 0), e[4] ].join("")), i += e[5], _r_(i);
}
return n = r(n), _r_(n);
});
}()), booking.jstmpl("review_photo_upload_preview", function() {
_i_("35b:76");
var e = [ '<ul class="rf_photo_upload_photos_wrapper js-list clearfix', " is-touch-device", '">\n', '\n<li class="rf_photo_upload_photo_item', " rf_photo_upload_photo_item_loading", '" data-photo-type="', '" data-photo-id="', '">\n	<div class="rf_photo_upload_photo_item__photo" style="', "background-image:url('", "');", '"></div>\n	<a href="#" class="rf_photo_upload_photo_item__icon js-remove-photo" data-photo-id="', '"><i class="bicon-btnclose" style="font-size: 25px; color: #9D2124; z-index: 2;"></i></a>\n</li>\n', "\n</ul>" ], t = [ "is_touch", "photos" ];
return _r_(function(i) {
_i_("35b:151");
var n = "", o = this.fn;
function r(n) {
_i_("35b:282"), n += e[0], o.MD(t[0]) && (n += e[1]), n += e[2];
var r = o.MC(t[1]) || [];
i.unshift({
photo:null
});
for (var s, a = 1, _ = r.length; _ >= a; a++) i[0].photo = s = r[a - 1], n += e[3], o.MJ(o.MG((s || {}).url)) || (n += e[4]), n += [ e[5], (s || {}).type, e[6], (s || {}).id, e[7] ].join(""), o.MJ(o.MG((s || {}).url)) && (n += [ e[8], (s || {}).url, e[9] ].join("")), n += [ e[10], (s || {}).id, e[11] ].join("");
return i.shift(), n += e[12], _r_(n);
}
return n = r(n), _r_(n);
});
}()), booking.jstmpl("ugcc_photo_upload_error_message", function() {
_i_("35b:77");
var e = [ "\n    ", '\n<div class="js-photo-upload-photo-errors clearfix photo_upload--error-modal">\n    <h2 class="photo_upload--error-title">', "/private/ugcc_photo_upload_error_header/name", '</h2>\n    <ul class="photo_upload--error-list">\n    	', '\n    		<li class="photo_upload--error-list-item">', "</li>\n    	", '\n    </ul>\n    <button class="photo_upload--error-ok-button modal-mask-closeBtn" data-lightbox-close>', "/private/ugcc_error_photo_upload_ok_button/name", "</button>\n</div>\n", "\n" ], t = [ "errors" ];
return _r_(function(i) {
_i_("35b:152");
var n = "", o = this.fn;
function r(n) {
_i_("35b:283"), n += [ "", e[1], o.ME(e[2], o.MB, o.MN, null), e[3] ].join("");
var r = o.MC(t[0]) || [];
i.unshift({
error:null
});
for (var s, a = 1, _ = r.length; _ >= a; a++) i[0].error = s = r[a - 1], n += [ e[4], s, e[5] ].join("");
return i.shift(), n += [ e[6], o.ME(e[7], o.MB, o.MN, null), e[8], "" ].join(""), _r_(n);
}
return n += e[0], n = r(n), n += e[9], _r_(n);
});
}()), B.define("utils/sanitize", [], function() {
_i_("35b:29");
var e = {
"<":"&lt;",
">":"&gt;",
"&":"&amp;"
}, t = new RegExp("[" + Object.keys(e).join() + "]", "g");
return _r_(function(i) {
if (_i_("35b:135"), !i) return _r_();
return _r_(i.replace(t, function(t) {
return _i_("35b:346"), _r_(e[t] || t);
}));
});
}), B.review = {}, function() {
_i_("35b:30"), $(".review-expired-track").length && B.google.trackEvent(booking.google.clickTracker, "Action: Review", "Invite expired"), _r_();
}(), B.review.Url = {
NEWSLETTER_SUBSCRIBE:"/newslettersubscribe.json",
SEND_APP_EMAIL:"/send_app_email_v2"
}, B.require([ "jquery" ], function(e) {
_i_("35b:31"), e(function() {
_i_("35b:153");
var t = e("#two_part_redesign_form_part_one"), i = B.jstmpl.translations("review_form_leave_error_lost"), n = window.location.href;
t.length && !n.match("skip_reload") && (e(window).bind("beforeunload", function() {
return _i_("35b:436"), _r_(i);
}), t.bind("submit", function() {
_i_("35b:437"), e(window).unbind("beforeunload"), _r_();
})), _r_();
}), _r_();
}), function() {
_i_("35b:32");
var e, t, i, n, o, r, s, a, _ = window.jQuery, l = window.booking, c = {
autocompleteUrl:"/autocomplete_pe",
params:{
lang:l.env.b_lang_for_url,
aid:l.env.b_aid,
dest_type:"pe_theme"
}
};
function d() {
_i_("35b:115"), e = _(".rf_tags_fieldset"), t = _(".input_tags_s-review_embedded_property"), i = t.find(".input_tags_taglist"), n = t.find(".input_tags_taglist_add_item"), o = n.find("input.input_tags_tagged_input"), r = n.find(".user-tags-autocomplete"), s = {
enter:13,
delete_key:8,
tab:9,
arrowup:38,
arrowdown:40
}, o.bind("keyup", function(e) {
_i_("35b:284");
var t, i = _.trim(_(this).val()), n = e.which;
if (clearTimeout(a), n !== s.enter && n !== s.tab && n !== s.delete_key && n !== s.arrowup && n !== s.arrowdown) a = setTimeout(u, 200); else if (n === s.delete_key && "" !== i) a = setTimeout(u, 200); else if (n !== s.arrowup && n !== s.arrowdown || !r.is(":visible")) {
if (n === s.enter || n === s.tab) {
var o = r.find(".autocomplete_option_active");
r.is(":visible") && o.length ? b(null, o.find("a")) :"" !== i && (t = i.split(","), _.each(t, function(e, t) {
_i_("35b:527"), g(t), _r_();
}), y()), f();
}
} else p(n);
_r_();
}), o.bind("keydown", function(e) {
_i_("35b:285");
var t = _.trim(_(this).val()).length, i = e.which;
if (i === s.enter || i === s.tab) e.preventDefault(); else if (i === s.delete_key) {
var o = n.prev();
1 > t && o.length ? w(null, o) :1 === t && f();
}
_r_();
}), i.on("click", ".autocomplete_option_selected .icon-remove", w), _r_();
}
function u() {
_i_("35b:116");
var e = o.val();
c.params.term = e, _.ajax({
url:"" + c.autocompleteUrl,
dataType:"json",
type:"get",
data:c.params,
success:function(e) {
_i_("35b:391"), _.isEmptyObject(e) ? f() :(r.html("").addClass("user-tags-autocomplete-active"), h(), _.each(e.pe_themes, function(e, t) {
_i_("35b:500"), r.append('<li><a href="#" class="autocomplete_option" data-item-id="' + t.pe_theme_id + '" data-autocomplete-item="' + t.pe_theme_name + '" data-index="' + e + '">' + t.pe_theme + "</a></li>"), _r_();
}), r.find(".autocomplete_option").bind("click", b)), _r_();
},
error:function() {
_i_("35b:392"), f(), _r_();
}
}), _r_();
}
function p(e) {
_i_("35b:117");
var t = "autocomplete_option_active", i = r.children(), n = r.children("." + t), o = i.first(), a = i.last(), _ = n.next(), l = n.prev();
n.length ? e === s.arrowup ? (n.removeClass(t), l.length ? l.addClass(t) :a.addClass(t)) :e === s.arrowdown && (n.removeClass(t), _.length ? _.addClass(t) :o.addClass(t)) :o.addClass(t), _r_();
}
function h() {
_i_("35b:118"), _(document).mouseup(function(e) {
_i_("35b:286"), 0 === r.has(e.target).length && (f(), y(), _(document).unbind("mouseup")), _r_();
}), _r_();
}
function f() {
_i_("35b:119"), r.removeClass("user-tags-autocomplete-active"), r.find(".autocomplete_option").unbind("click", b), _r_();
}
function v(t, i, n) {
_i_("35b:120");
var o = n ? e.find(".pe_free") :e.find(".pe_tags"), r = o.val(), s = n ? "pe_free" :"pe_tags", a = "";
if ("add" === i) o.length ? (a = r + "," + t, o.val(a)) :e.append('<input type="hidden" name="' + s + '" value="' + t + '" class="' + s + '">'); else if ("remove" === i) if (r = r.split(","), 1 === r.length) o.remove(); else {
var l = _.inArray(t.toString(), r);
l >= 0 && (r.splice(l, 1), a = r.join(","), o.val(a));
}
_r_();
}
function b(e, t) {
_i_("35b:121"), e ? e.preventDefault() :null;
var i = t || _(e.target), n = i.data("item-id");
v(n, "add"), m(i), y(), _r_();
}
function m(e) {
_i_("35b:122");
var t = e, t = {
id:t.data("item-id"),
tagname:t.data("autocomplete-item"),
label:t.text()
};
i.prepend('<li class="input_tags_taglist_item_s-tagged autocomplete_option_selected" data-item-id="' + t.id + '" data-tagname="' + t.tagname + '"><span class="item-name">' + t.label + '</span><a class="remove-tag" href="#" title="Remove"><i class="btn_icon icon-remove"></i></a></li>'), _r_();
}
function g(e) {
_i_("35b:123"), v(e, "add", !0), i.prepend('<li class="input_tags_taglist_item_s-tagged autocomplete_option_selected" data-item-id="' + e + '" data-tagname="custom"><span class="item-name">' + e + '</span><a class="remove-tag" href="#" title="Remove"><i class="btn_icon icon-remove"></i></a></li>'), _r_();
}
function w(e, t) {
_i_("35b:124"), e ? e.preventDefault() :null;
var i = t || _(e.target).parent().parent(), n = i.data("item-id"), o = i.data("tagname"), r = "custom" === o ? !0 :!1;
i.remove(), v(n, "remove", r), _r_();
}
function y() {
_i_("35b:125"), o.val("").focus(), f(), _r_();
}
l.ensureNamespaceExists(sNSStartup), l[sNSStartup].revc_form_property_themes = {
priority:9,
init:d
}, _r_();
}(), function(e) {
_i_("35b:33");
var t = e.require("jquery"), i = {
conf:{
triggerType:"scrollIn",
tooltipContainers:t(".rf_fieldset").has(".review-badge-tooltip"),
hiddenClassName:"review-badge-hidden"
},
init:function(e) {
_i_("35b:287"), e && (this.conf.triggerType = e), this.attachEvents(), _r_();
},
attachEvents:function() {
_i_("35b:288"), "scrollIn" === this.conf.triggerType && t(window).on("scroll", this.triggerShowingOnScroll.bind(this)), _r_();
},
triggerShowingOnScroll:function(e) {
_i_("35b:289");
var i = t(window).scrollTop(), n = t(window).innerHeight(), o = this;
this.conf.tooltipContainers.each(function() {
_i_("35b:438");
var e = t(this), r = e.offset().top;
i + .7 * n > r && !(i + .2 * n > r) ? o.show(e) :o.hide(e), _r_();
}), _r_();
},
hide:function(e) {
_i_("35b:290"), e.find(".review-badge-tooltip").addClass(this.conf.hiddenClassName), _r_();
},
show:function(e) {
_i_("35b:291"), e.find(".review-badge-tooltip").removeClass(this.conf.hiddenClassName), _r_();
}
};
t(function() {
_i_("35b:154"), i.init(), _r_();
}), _r_();
}(window.booking), function() {
_i_("35b:34");
var e = window.jQuery, t = window.booking;
function i() {
_i_("35b:126"), e("#guidelines_open_link").click(function(e) {
_i_("35b:292"), e.preventDefault(), t[sNSStartup].lightbox.show("#guidelines_content"), _r_();
}), _r_();
}
t.ensureNamespaceExists(sNSStartupLoad), t[sNSStartupLoad].rpp_hot_or_not_two = {
priority:9,
init:i
}, _r_();
}(), booking.ensureNamespaceExists(sNSStartup), booking[sNSStartup].review_questionaire_conf_tracking = {
priority:5,
init:function() {
_i_("35b:127"), $("#app_android a", "#b_confirmation_body").click(function() {
_i_("35b:293"), booking.google.trackEvent(booking.google.clickTracker, "Review submitted conf", "download_android - redesign"), _r_();
}), $("#app_iphone", "#b_confirmation_body").click(function() {
_i_("35b:294"), booking.google.trackEvent(booking.google.clickTracker, "Review submitted conf", "download_iphone - redesign"), _r_();
}), $("#app_ipad", "#b_confirmation_body").click(function() {
_i_("35b:295"), booking.google.trackEvent(booking.google.clickTracker, "Review submitted conf", "download_ipad - redesign"), _r_();
}), _r_();
}
}, function() {
_i_("35b:35");
var e = String(window.location);
if (e.indexOf("#") > 0) {
e = e.split("#"), e = e[1].split(/[&\/;]/);
var t = e[0].split("-");
if (2 === t.length) {
var i = t[0], n = t[1], o = $("input[name=" + i + "][value=" + n + "]");
1 === o.length && o.attr("checked", !0);
}
}
_r_();
}(), function() {
"use strict";
_i_("35b:36"), B.when({
action:"review",
condition:!B.env.b_action_is_reviewsubmitted && window.b_users_looking_at_hotel > 0,
events:"keyup .rv-textarea"
}).run(function() {
_i_("35b:155"), $("#social_proof").show(), _r_();
}), _r_();
}(), function() {
_i_("35b:37"), B.when({
action:"review",
events:"ready",
condition:!B.env.b_action_is_reviewsubmitted && !B.env.b_is_tablet && "mdot" !== B.env.b_site_type
}).run(function() {
_i_("35b:156");
var e = $('[name="hotel_accuracy"]'), t = $(".rf_extra_field--accuracy");
if (!e.length) return _r_();
e.on("change", i), i();
function i() {
_i_("35b:296");
var i = e.filter(":checked").val(), n = !(1 != i && 2 != i);
n ? (t.toggleClass("rf_extra_field_pos-1", 1 == i).toggleClass("rf_extra_field_pos-2", 2 == i), t.slideDown("fast")) :t.slideUp("fast"), _r_();
}
_r_();
}), _r_();
}(), function() {
"use strict";
_i_("35b:38");
var e = B.require("review/toggle"), t = B.require("review/model"), i = B.require("review/dom"), n = B.require("ga-tracker"), o = "Property UGC";
$(function() {
_i_("35b:157"), e.init($('input[name="stay_purpose"]'), $(".type_business_room_service"), $(".type_business_radio_room_service")), e.init($('input[name="travel_with"][value="pet"]'), $(".pet_friendliness"), $('input[name="travel_with"][value="pet"]')), e.init($('input[name="stay_purpose"]'), $(".type_business_biz_centre"), $(".type_business_radio_biz_centre")), i.toggleBonusQuestions(), $('input[name="stay_purpose"]').on("change", function(e) {
_i_("35b:393"), n.trackEvent(o, "Select travel purpose", e.currentTarget.value), _r_();
}), $('input[name="stay_customer_type"]').on("change", function(e) {
_i_("35b:394"), n.trackEvent(o, "Select travel purpose", e.currentTarget.value), _r_();
}), $('input[name="with_pets"]').on("change", function(e) {
_i_("35b:395"), n.trackEvent(o, "Select traveled with pet", e.currentTarget.value), _r_();
}), $('textarea[name="hotel_positive"]').on("blur", function(e) {
if (_i_("35b:396"), e.currentTarget.value.length > 0) {
var t = e.currentTarget.value.length >= 200 ? "Large text" :"Small text";
n.trackEvent(o, "Writes positive text", t);
}
_r_();
}), $('textarea[name="hotel_negative"]').on("blur", function(e) {
if (_i_("35b:397"), e.currentTarget.value.length > 0) {
var t = e.currentTarget.value.length >= 200 ? "Large text" :"Small text";
n.trackEvent(o, "Writes negative text", t);
}
_r_();
}), $('input[name="title"]').on("blur", function(e) {
_i_("35b:398"), e.currentTarget.value.length > 0 && n.trackEvent(o, "Writes headline text"), _r_();
}), $('input[name^="hotel_"]:radio').on("change", function(e) {
_i_("35b:399"), n.trackEvent(o, "Give " + e.currentTarget.name + " rating", e.currentTarget.value), _r_();
}), $('fieldset[data-type="additional_components"]').find("input:radio,  input:checkbox").on("change", function(e) {
_i_("35b:400"), n.trackEvent(o, "Answers bonus question"), _r_();
}), $("#non_anon").on("click", function(e) {
_i_("35b:401"), n.trackEvent(o, "Changes name", e.currentTarget.checked ? 1 :0), _r_();
}), $(".rf_photo_upload_input").on("click", function(e) {
_i_("35b:402"), n.trackEvent(o, "Click upload photo"), _r_();
}), $(".rpp_card").on("click", function(e) {
_i_("35b:403"), n.trackEvent("Confirmation", "Recommend city"), _r_();
}), $(".rv-textarea").on("focus", function() {
_i_("35b:404"), $(this).removeClass("rv-textarea-is-shorter"), _r_();
}), $("#two_part_redesign_form_part_one").on("submit", function() {
_i_("35b:405"), $(this).find('button[type="submit"]').prop("disabled", !0), _r_();
}), _r_();
}), t.events.on("REVIEW_FORM:photo_upload", function(e) {
_i_("35b:158"), n.trackEvent(o, "Upload photo", $(".rf_photo_upload_photo_item").length), _r_();
}), t.events.on("REVIEW_FORM:photo_remove", function(e) {
_i_("35b:159"), n.trackEvent(o, "Remove photo", $(".rf_photo_upload_photo_item").length), _r_();
}), t.events.on("form:set:score_components", function(e) {
_i_("35b:160");
var t = Object.keys(i.getScoreRatings()).length > 0;
t && i.toggleValidationMessage("score_components", !1), _r_();
}), t.events.on("form:set:*", function(e) {
_i_("35b:161"), i.toggleBonusQuestions(), _r_();
}), _r_();
}(), B.when({
events:"ready"
}).run(function(e) {
_i_("35b:39");
var t = e("jquery");
if ("www" === B.env.b_site_type) {
var i = t(".review_content_positive textarea, .review_content_negative textarea");
i.on("keyup change", function() {
_i_("35b:297");
var e = t(this).val().length, i = B.env.b_lang_is_cjk ? 100 :200, n = t(this).parent().find(".review_content_counter"), o = n.find(".review_content_counter__current"), r = n.find(".review_content_counter__cta1"), s = n.find(".review_content_counter__cta2"), a = B.jstmpl.translations("loc_review_form_character_counts", e || null, {
bold_start:"<b>",
bold_end:"</b>",
num:e.toString()
});
o.html(a), e >= i ? (t(this).data("reached1stThreshold", !0), r.slideUp("fast"), s.slideDown("fast")) :e >= i / 4 ? (t(this).data("reached1stThreshold", !0), r.slideDown("fast"), s.slideUp("fast")) :(s.slideUp("fast"), t(this).data("reached1stThreshold") && r.slideDown("fast")), _r_();
});
} else {
var n = t(".rf_review_content_fieldset"), o = function(e) {
_i_("35b:298");
var i = t(e.target);
"hotel_positive" === i.attr("name") ? (i.siblings(".review_content_recommended_length").remove(), t("#review_content_positive_encourage").show()) :"hotel_negative" === i.attr("name") && (i.siblings(".review_content_recommended_length").remove(), t("#review_content_negative_encourage").show()), _r_();
};
n.on("keyup.reviewCommentPositive", ".review_content_positive textarea", o), n.on("keyup.reviewCommentNegative", ".review_content_negative textarea", o);
}
_r_();
}), B.define("component/ugc/endless-single-questions", function(e, t, i) {
_i_("35b:40");
var n = e("component"), o = e("fragment"), r = e("jquery");
i.exports = n.extend({
init:function() {
_i_("35b:347"), this.defaultPayload = {
access_code:this.$el.data("access-code"),
values:{}
}, this.$questions = this.$el.find("[data-question]"), this._attachEvents(), _r_();
},
_attachEvents:function() {
_i_("35b:348"), this.$el.on("click", "[data-answer]", this._onAnswerClick.bind(this)), _r_();
},
_onAnswerClick:function(e) {
_i_("35b:349");
var t = this, i = r(e.currentTarget), n = i.closest("[data-question]"), s = Object.assign({}, this.defaultPayload), a = i.data();
if (i.addClass("is-selected"), n.addClass("is-loading"), !1 in a || !a.qid) throw new Error("endless-single-questions: `data-qid` is invalid!");
s.values[a.qid] = a.answer, o.call("review.update_review", s).then(function() {
_i_("35b:465"), t.$questions.filter(".q-is-selected").removeClass("q-is-selected").hide().next().fadeIn().addClass("q-is-selected"), window.setTimeout(function() {
_i_("35b:515"), B.et.initAttributesTracking(r("q-is-selected")), B.eventEmitter.trigger("GENERAL:layout_changed"), _r_();
}, 420), n.removeClass("is-loading"), _r_();
}, function() {}), _r_();
}
}), _r_();
}), B.define("component/ugc/pending-hotel-reviews", function(e, t, i) {
_i_("35b:41");
var n = e("component");
i.exports = n.extend({
init:function() {
_i_("35b:350"), this.$el.on("click", "[data-smiley]", this._onSmileyClick.bind(this)), _r_();
},
_onSmileyClick:function(e) {
_i_("35b:351"), $(e.currentTarget).addClass("is-selected").siblings().removeClass("is-selected"), _r_();
}
}), _r_();
}), B.define("component/ugc/character-counter", function(e, t, i) {
_i_("35b:42");
var n = e("component");
i.exports = n.extend({
init:function() {
if (_i_("35b:352"), this.$input = this.$input || this.$el.find("[data-input]"), !this.$input.length) return _r_();
this.$counterDisplay = this.$el.find("[data-counter-display]"), this.$feedback = this.$el.find("[data-feedback]"), this.counterCat = {
bad:"js-length-is-bad",
ok:"js-length-is-ok",
good:"js-length-is-good"
}, this.counterCatClasses = [ this.counterCat.bad, " ", this.counterCat.ok, " ", this.counterCat.good ].join(""), this.feedbackCopy = this.feedbackCopy || {
otherwise:function() {
return _i_("35b:516"), _r_(B.jstmpl.translations("review_2_increase_length_encourage_characters", null, {
num:"120"
}));
}(),
bad:function() {
return _i_("35b:517"), _r_(B.jstmpl.translations("review_2_increase_length_first_step"));
}(),
ok:function() {
return _i_("35b:518"), _r_(B.jstmpl.translations("review_2_increase_length_almost_there"));
}(),
good:function() {
return _i_("35b:519"), _r_(B.jstmpl.translations("review_2_increase_length_success_message"));
}()
}, this._attachEvents(), _r_();
},
_attachEvents:function() {
_i_("35b:353"), this.$input.keyup(this._onInputKeyup.bind(this)), _r_();
},
_onInputKeyup:function(e) {
_i_("35b:354");
var t = e.target.value.length;
this.$counterDisplay.html(t), this._updateCounterCategory(t), this.$feedback.length > 0 && this._updateFeedbackCopy(t), _r_();
},
_updateCounterCategory:function(e) {
_i_("35b:355");
var t = this.$counterDisplay, i = "";
if (0 === e) return t.removeClass(this.counterCatClasses), _r_();
e > 0 && 61 > e ? i = "bad" :e > 60 && 120 > e ? i = "ok" :e > 119 && (i = "good"), this._updateCounterCatClass(this.counterCat[i]), _r_();
},
_updateCounterCatClass:function(e) {
if (_i_("35b:356"), this.$counterDisplay.hasClass(e)) return _r_();
this.$counterDisplay.removeClass(this.counterCatClasses).addClass(e), _r_();
},
_updateFeedbackCopy:function(e) {
_i_("35b:357");
var t = this.$feedback, i = "otherwise";
e > 0 && 61 > e ? i = "bad" :e > 60 && 120 > e ? i = "ok" :e > 119 && (i = "good"), t.html("<p>" + this.feedbackCopy[i] + "</p>"), _r_();
}
}), _r_();
}), B.when({
condition:document.getElementById("scout_incentive")
}).run(function(e) {
_i_("35b:43");
var t = e("jquery"), i = t(".scout_incentive"), n = t(".scout_incentive-description_close"), o = t(".cout_incentive-learn_more"), r = t(".scout_incentive-description"), s = t("#scout_incentive-scout_checkbox"), a = !1;
function _() {
_i_("35b:128"), l(), _r_();
}
function l() {
_i_("35b:129"), o.on("click", c), s.on("change", function(e) {
if (_i_("35b:299"), a) return _r_();
c(), a = !0, _r_();
}), n.on("click", d), _r_();
}
function c(e) {
if (_i_("35b:130"), e && e.preventDefault(), i.hasClass("scout_incentive-expanded")) return _r_();
i.removeClass("scout_incentive-closed").addClass("scout_incentive-expanding"), r.slideDown(150, function() {
_i_("35b:300"), i.addClass("scout_incentive-expanded").removeClass("scout_incentive-expanding"), _r_();
}), _r_();
}
function d(e) {
_i_("35b:131"), e.preventDefault(), i.removeClass("scout_incentive-expanded").addClass("scout_incentive-closing"), r.slideUp(150, function() {
_i_("35b:301"), i.addClass("scout_incentive-closed").removeClass("scout_incentive-closing"), _r_();
}), _r_();
}
_(), _r_();
}), B.define("component/ugc/character-counter-multiple_fields", function(e, t, i) {
_i_("35b:44");
var n = e("component/ugc/character-counter"), o = e("jquery");
i.exports = n.extend({
init:function(e) {
_i_("35b:358"), this.$input = this.$el.find(this.$el.data("inputs")), this.feedbackCopy = {
otherwise:function() {
return _i_("35b:501"), _r_(B.jstmpl.translations("review_2_increase_length_encourage_characters", null, {
num:"120"
}));
}(),
bad:function() {
return _i_("35b:502"), _r_(B.jstmpl.translations("review_2_increase_length_first_step"));
}(),
ok:function() {
return _i_("35b:503"), _r_(B.jstmpl.translations("review_2_increase_length_almost_there"));
}(),
good:function() {
return _i_("35b:504"), _r_(B.jstmpl.translations("review_2_increase_length_success_message"));
}()
}, n.prototype.init.apply(this, arguments), _r_();
},
_onInputKeyup:function(e) {
_i_("35b:359");
var t = this;
this.combinedTextLength = 0, this.$input.each(function(e) {
_i_("35b:467"), t.combinedTextLength += o(this).val().length, _r_();
}), this.$counterDisplay.html(this.combinedTextLength), n.prototype._updateCounterCategory.call(this, this.combinedTextLength), _r_();
}
}), _r_();
}), B.define("component/review/restaurant/autocomplete", function(e, t, i) {
"use strict";
_i_("35b:45"), booking.jstmpl("restaurant_autocomplete_results", function() {
_i_("35b:226");
var e = [ "\n        ", "\n    ", "\n\n    ", '\n        <li\n            class="', "c-autocomplete__item sb-autocomplete__item ", "sb-autocomplete__item--cjk ", "sb-autocomplete__item--country ", '"\n            data-list-item\n            data-i="', '"\n            data-value="', '"\n            >', "", "</li>\n    ", '\n        <li class="sb-autocomplete__google"></li>\n    ', "\n" ], t = [ "total_index", "results", "lc", "index", "value", "label", "is_powered_by_google" ];
return _r_(function(i) {
_i_("35b:406");
var n = "", o = this.fn;
function r(n) {
if (_i_("35b:439"), o.MD(t[1])) {
n += e[1], o.MN("index", 0), n += e[1], o.MN(t[0], o.MI(o.array_length(o.MB(t[1]))) - o.MI(1)), n += e[2];
var r = o.MC(t[1]) || [];
i.unshift(null);
for (var s = 1, a = r.length; a >= s; s++) i[0] = r[s - 1], n += e[3], n += e[4], o.MJ(/zh|xt|ja|ko/.test(o.MB(t[2]))) && (n += e[5]), n += e[6], n += [ e[7], o.MC(t[3]), e[8], o.F.entities(o.MC(t[4])), e[9] ].join(""), n += [ e[10], o.F.entities(o.MC(t[5])), e[10] ].join(""), o.MN("index", o.MI(o.MB(t[3])) + o.MI(1)), n += e[10], n += e[11];
i.shift(), n += e[2], o.MD(t[6]) && (n += e[12]), n += e[13];
}
return n += e[13], _r_(n);
}
return n += e[0], n = r(n), n += e[1], _r_(n);
});
}());
var n = e("component/autocomplete-core");
i.exports = n.extend({
init:function() {
_i_("35b:360"), this.lat = this.$el.data("lat"), this.lng = this.$el.data("lng"), n.prototype.init.apply(this, arguments);
var e = B.atlas.require("atlas-places"), t = "booking-restaurants", i = document.createElement("div");
this.atlas = new e({
provider:"provider-places",
modules:[ "autocomplete", "places" ],
options:{
domNode:i,
channel:t
}
}), this.templateResults = B.jstmpl("restaurant_autocomplete_results"), _r_();
},
inputChange:function() {
_i_("35b:361"), this.selectedValue != this.input.value && (this.$el.find('[name="google_place_id"]')[0].value = 0, $("#restaurant_review").is(":visible") && $("#restaurant_review").slideUp("fast")), _r_();
},
autocomplete:function() {
_i_("35b:362"), clearTimeout(this.timer), this.timer = setTimeout(function() {
_i_("35b:505"), this.search(this.query(), this.render.bind(this)), _r_();
}.bind(this), 300), _r_();
},
render:function(e) {
_i_("35b:363");
var e = this.processData(e);
this.$items = $({}), this.items = e.results.map(function(e) {
return _i_("35b:473"), _r_({
value:e.label,
valueLowerCase:e.label.toLowerCase(),
google_place_id:e.place_id
});
}), this.$list.html(this.templateResults.render(e)), this.$items = this.$list.find('[data-list-item=""]'), this.postAutocomplete(), _r_();
},
processData:function(e) {
_i_("35b:364");
var t = {};
return t.results = e.slice(0, 5).map(function(e, t) {
_i_("35b:474");
var i = e.get("data"), n = {
place_id:i.id,
label:i.description,
position:t,
is_google_result:!0,
lc:B.env.b_lang
};
return _r_(n);
}), t.is_powered_by_google = t.results.length > 0, _r_(t);
},
search:function(e, t) {
_i_("35b:365");
var i = {};
i.lat = this.lat, i.lon = this.lng, i.radius = 5e4, i.types = [ "establishment" ], i.query = e, e && e.length >= 3 && (B.et.customGoal("ZERXSSHGfZOIZaefOIPPQFFcMeTC", 1), this.atlas.autocomplete(i, t)), _r_();
},
query:function() {
return _i_("35b:366"), _r_(this.input.value);
},
choose:function(e) {
_i_("35b:367"), n.prototype.choose.apply(this, arguments), this.$el.find('[name="google_place_id"]')[0].value = this.items[e].google_place_id, $("#restaurant_review").is(":visible") || ($("#restaurant_review").slideDown("fast"), B.et.customGoal("ZERXSSHGfZOIZaefOIPPQFFcMeTC", 2)), _r_();
}
}), _r_();
}), B.when({
events:"ready",
condition:B.env.fe_ask_travel_pref
}).run(function(e) {
_i_("35b:46");
var t = e("jquery"), i = e("et"), n = "adUdWPEBNPebBGPeVNMcCHT", o = t('.ugcc_travel_prefs__table input[type="radio"]'), r = 0;
o.on("click", function() {
_i_("35b:162"), r || (i.customGoal(n, 1), r = 1);
var e = t(this), o = {
facility_id:e.data("facility-id"),
facility_type:e.data("facility-type"),
answer:parseInt(e.attr("value"))
};
t.ajax({
type:"POST",
url:"/save_user_facilities_preferences",
data:JSON.stringify(o),
dataType:"text",
contentType:"application/json",
success:function(e) {},
error:function(e, t, i) {
_i_("35b:441"), booking.reportError(i, n), _r_();
}
}), _r_();
}), t("#travel_pref_submit_btn").on("click", function() {
_i_("35b:163"), t(".ugcc_travel_prefs__thanks_msg").hide().fadeIn(300), _r_();
}), _r_();
}), B.when({
action:"review",
events:"ready"
}).run(function(e) {
_i_("35b:47");
var t = e("jquery");
t(".rv-textarea[data-text-group]").on("input", function() {
_i_("35b:164");
var e = t(this).attr("data-text-group"), i = t(this).val();
t('.rv-textarea[data-text-group="' + e + '"]').val(i), _r_();
}), _r_();
}), B.define("utils/serialize-form", function(e, t, i) {
_i_("35b:48");
function n(e) {
return _i_("35b:132"), _r_(e.serializeArray().reduce(function(e, t) {
return _i_("35b:302"), e[t.name] ? ($.isArray(e[t.name]) || (e[t.name] = [ e[t.name] ]), e[t.name].push(t.value)) :e[t.name] = t.value, _r_(e);
}, {}));
}
i.exports = n, _r_();
}), B.when({
events:"ready",
condition:B.env.fe_ask_collection_feedback
}).run(function(e) {
_i_("35b:49");
var t = e("jquery"), i = e("et"), n = e("utils/serialize-form"), o = "adUdWZaHGaCGbbYRLSFZNYT", r = t('form[name="revcollect_feedback_form"]');
r.on("submit", function(e) {
_i_("35b:165"), e.preventDefault();
var r = t(this), _ = n(r);
s(_), t.ajax({
type:"POST",
url:"/save_review_collection_feedback",
data:JSON.stringify(_),
dataType:"json",
contentType:"application/json",
success:function(e) {
_i_("35b:442"), e.success ? (i.stage(o, 2), i.customGoal(o, 5), a()) :booking.reportError("Failed to save review collection feedback.", o), _r_();
},
error:function(e, t, i) {
_i_("35b:443"), booking.reportError(i, o), _r_();
}
}), _r_();
});
function s(e) {
_i_("35b:133");
var t = parseInt(e.answer);
0 === t ? i.customGoal(o, 1) :1 === t ? i.customGoal(o, 2) :2 === t && i.customGoal(o, 3), e.feedback_text && e.feedback_text.length > 0 && i.customGoal(o, 4), _r_();
}
function a() {
_i_("35b:134"), t(".revcollect_feedback__form").fadeOut(300, function() {
_i_("35b:303"), t(".revcollect_feedback__thank_you").fadeIn(100), _r_();
}), _r_();
}
_r_();
});

var ConfettiParticle, requestConfettiAnimationFrame = window.requestAnimationFrame || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame || window.oRequestAnimationFrame || window.msRequestAnimationFrame || function(e) {
return _i_("35b:78"), _r_(window.setTimeout(e, 1e3 / 60));
}, Confetti = function(e) {
_i_("35b:50"), this.$parent = e, this.canvas = document.createElement("canvas"), this.$parent.append(this.canvas), this.ctx = this.canvas.getContext("2d"), this.W = this.$parent.innerWidth(), this.H = this.$parent.innerHeight(), this.canvas.width = this.W, this.canvas.height = this.H, this.particles = [], this.particleColors = [ "DodgerBlue", "OliveDrab", "Gold", "pink", "SlateBlue", "lightblue", "Violet", "PaleGreen", "SteelBlue", "SandyBrown", "Chocolate", "Crimson" ], this.colorIndex = 0, this.colorIncrementer = 0, this.colorThreshold = 10, this.animationComplete = !1, this.confettiActive = !0, this.mp = 100, this.angle = 0, this.reactivationTimerHandler = null, this.animationHandler = null, this.initParticles(), _r_();
};

Confetti.prototype.initParticles = function() {
_i_("35b:51");
for (var e = 0; e < this.mp; e++) {
var t = this.getColor();
this.particles.push(new ConfettiParticle(this, t));
}
_r_();
}, Confetti.prototype.getColor = function() {
return _i_("35b:52"), this.colorIncrementer >= 10 && (this.colorIncrementer = 0, this.colorIndex++, this.colorIndex >= this.particleColors.length && (this.colorIndex = 0)), this.colorIncrementer++, _r_(this.particleColors[this.colorIndex]);
}, Confetti.prototype.draw = function() {
_i_("35b:53"), this.ctx.clearRect(0, 0, this.W, this.H);
for (var e = [], t = 0; t < this.mp; t++) e.push(this.particles[t].draw());
return this.update(), _r_(e);
}, Confetti.prototype.update = function() {
_i_("35b:54");
var e, t = 0;
this.angle += .01;
for (var i = 0; i < this.mp; i++) {
if (e = this.particles[i], this.animationComplete) return _r_();
if (!this.confettiActive && e.y < -15) {
e.y = this.H + 100;
continue;
}
e.step(i), e.y <= this.H && t++, this.checkForReposition(e, i);
}
0 === t && this.stop(), _r_();
}, Confetti.prototype.checkForReposition = function(e, t) {
_i_("35b:55"), (e.x > this.W + 20 || e.x < -20 || e.y > this.H) && this.confettiActive && (t % 5 > 0 || t % 2 == 0 ? e.reposition(Math.random() * this.W, -10) :Math.sin(this.angle) > 0 ? e.reposition(-20, Math.random() * this.H) :e.reposition(this.W + 20, Math.random() * this.H)), _r_();
}, Confetti.prototype.start = function() {
_i_("35b:56");
var e = this;
!function t() {
if (_i_("35b:166"), e.animationComplete) return _r_(null);
return e.animationHandler = requestConfettiAnimationFrame(t), _r_(e.draw());
}(), _r_();
}, Confetti.prototype.clearTimers = function() {
_i_("35b:57"), clearTimeout(this.reactivationTimerHandler), clearTimeout(this.animationHandler), _r_();
}, Confetti.prototype.deactivate = function() {
_i_("35b:58"), this.confettiActive = !1, this.clearTimers(), _r_();
}, Confetti.prototype.stop = function() {
if (_i_("35b:59"), this.animationComplete = !0, void 0 == this.ctx) return _r_();
this.ctx.clearRect(0, 0, this.W, this.H), _r_();
}, ConfettiParticle = function(e, t) {
_i_("35b:60"), this.confetti = e, this.color = t, this.x = Math.random() * this.confetti.W, this.y = Math.random() * this.confetti.H - this.confetti.H, this.r = this.randomFromTo(10, 30), this.d = Math.random() * this.confetti.mp + 10, this.tilt = Math.floor(10 * Math.random()) - 10, this.tiltAngleIncremental = .07 * Math.random() + .05, this.tiltAngle = 0, _r_();
}, ConfettiParticle.prototype.randomFromTo = function(e, t) {
return _i_("35b:61"), _r_(Math.floor(Math.random() * (t - e + 1) + e));
}, ConfettiParticle.prototype.draw = function() {
return _i_("35b:62"), this.confetti.ctx.beginPath(), this.confetti.ctx.lineWidth = this.r / 2, this.confetti.ctx.strokeStyle = this.color, this.confetti.ctx.moveTo(this.x + this.tilt + this.r / 4, this.y), this.confetti.ctx.lineTo(this.x + this.tilt, this.y + this.tilt + this.r / 4), _r_(this.confetti.ctx.stroke());
}, ConfettiParticle.prototype.step = function(e) {
_i_("35b:63"), this.tiltAngle += this.tiltAngleIncremental, this.y += (Math.cos(this.confetti.angle + this.d) + 3 + this.r / 2) / 2, this.x += Math.sin(this.confetti.angle), this.tilt = 15 * Math.sin(this.tiltAngle - e / 3), _r_();
}, ConfettiParticle.prototype.reposition = function(e, t) {
_i_("35b:64"), this.x = e, this.y = t, this.tilt = Math.floor(10 * Math.random()) - 20, _r_();
}, B.define("component/incentives/incentives-review-submit", function(e, t, i) {
_i_("35b:65");
var n = e("component");
i.exports = n.extend({
init:function() {
_i_("35b:368"), this.throwConfetti(), _r_();
},
throwConfetti:function() {
_i_("35b:369");
var e = new Confetti(this.$el);
e.start(), setTimeout(function() {
_i_("35b:468"), e.deactivate(), _r_();
}, 3e3), _r_();
}
}), _r_();
}), B.define("dismiss-item", function(e, t, i) {
_i_("35b:66");
var n = e("jquery");
i.exports = function(e) {
if (_i_("35b:167"), !e) throw new Error("param itemId is required");
return _r_(n.ajax({
url:"/dismiss_item",
type:"POST",
data:{
item_id:e
}
}));
}, _r_();
}), B.define("component/dismissible-item/block", function(e, t, i) {
_i_("35b:67");
var n = e("component"), o = e("dismiss-item"), r = e("read-data-options");
i.exports = n.extend({
init:function() {
_i_("35b:370"), this.options = r(this.$el, {
itemId:{
name:"item-id",
type:String,
required:!0
}
}), this._bindEvents(), _r_();
},
_bindEvents:function() {
_i_("35b:371"), this.$el.on("click", ".js-close", function() {
_i_("35b:490"), this._dismissItem(), this.hide(), _r_();
}.bind(this)), _r_();
},
_dismissItem:function() {
return _i_("35b:372"), _r_(o(this.options.itemId));
},
hide:function() {
_i_("35b:373"), this.$el.hide(), _r_();
}
}), _r_();
}), B.define("component/dismissible-item/on-init", function(e, t, i) {
_i_("35b:68");
var n = e("component"), o = e("dismiss-item"), r = e("read-data-options");
i.exports = n.extend({
init:function() {
return _i_("35b:374"), this.options = r(this.$el, {
itemId:{
name:"item-id",
type:String,
required:!0
}
}), _r_(o(this.options.itemId));
}
}), _r_();
}), function(e) {
"use strict";
_i_("35b:70"), "function" == typeof define && define.amd ? define([ "jquery" ], e) :"undefined" != typeof exports ? module.exports = e(require("jquery")) :e(jQuery), _r_();
}(function(e) {
"use strict";
_i_("35b:69");
var t = window.Slick || {};
t = function() {
_i_("35b:227");
var t = 0;
function i(i, n) {
_i_("35b:375");
var o, r, s, a = this;
if (a.defaults = {
accessibility:!0,
adaptiveHeight:!1,
appendArrows:e(i),
appendDots:e(i),
arrows:!0,
asNavFor:null,
prevArrow:'<button type="button" data-role="none" class="slick-prev" aria-label="previous">Previous</button>',
nextArrow:'<button type="button" data-role="none" class="slick-next" aria-label="next">Next</button>',
autoplay:!1,
autoplaySpeed:3e3,
centerMode:!1,
centerPadding:"50px",
cssEase:"ease",
customPaging:function(e, t) {
return _i_("35b:491"), _r_('<button type="button" data-role="none">' + (t + 1) + "</button>");
},
dots:!1,
dotsClass:"slick-dots",
draggable:!0,
easing:"linear",
edgeFriction:.35,
fade:!1,
focusOnSelect:!1,
infinite:!0,
initialSlide:0,
lazyLoad:"ondemand",
mobileFirst:!1,
pauseOnHover:!0,
pauseOnDotsHover:!1,
respondTo:"window",
responsive:null,
rtl:!1,
slide:"",
slidesToShow:1,
slidesToScroll:1,
speed:500,
keydownOverride:!1,
keydownSpeed:500,
swipe:!0,
swipeToSlide:!1,
touchMove:!0,
touchThreshold:5,
useCSS:!0,
variableWidth:!1,
vertical:!1,
waitForAnimate:!0
}, a.initials = {
animating:!1,
dragging:!1,
autoPlayTimer:null,
currentDirection:0,
currentLeft:null,
currentSlide:0,
direction:1,
currentSpeed:null,
iskeyboardEvent:!1,
$dots:null,
listWidth:null,
listHeight:null,
loadIndex:0,
$nextArrow:null,
$prevArrow:null,
slideCount:null,
slideWidth:null,
$slideTrack:null,
$slides:null,
sliding:!1,
slideOffset:0,
swipeLeft:null,
$list:null,
touchObject:{},
transformsEnabled:!1
}, e.extend(a, a.initials), a.activeBreakpoint = null, a.animType = null, a.animProp = null, a.breakpoints = [], a.breakpointSettings = [], a.cssTransitions = !1, a.hidden = "hidden", a.paused = !1, a.positionProp = null, a.respondTo = null, a.shouldClick = !0, a.$slider = e(i), a.$slidesCache = null, a.transformType = null, a.transitionType = null, a.visibilityChange = "visibilitychange", a.windowWidth = 0, a.windowTimer = null, o = e(i).data("slick") || {}, a.options = e.extend({}, a.defaults, o, n), a.currentSlide = a.options.initialSlide, a.originalSettings = a.options, r = a.options.responsive || null, r && r.length > -1) {
a.respondTo = a.options.respondTo || "window";
for (s in r) r.hasOwnProperty(s) && (a.breakpoints.push(r[s].breakpoint), a.breakpointSettings[r[s].breakpoint] = r[s].settings);
a.breakpoints.sort(function(e, t) {
return _i_("35b:492"), _r_(a.options.mobileFirst === !0 ? e - t :t - e);
});
}
"undefined" != typeof document.mozHidden ? (a.hidden = "mozHidden", a.visibilityChange = "mozvisibilitychange") :"undefined" != typeof document.msHidden ? (a.hidden = "msHidden", a.visibilityChange = "msvisibilitychange") :"undefined" != typeof document.webkitHidden && (a.hidden = "webkitHidden", a.visibilityChange = "webkitvisibilitychange"), a.autoPlay = e.proxy(a.autoPlay, a), a.autoPlayClear = e.proxy(a.autoPlayClear, a), a.changeSlide = e.proxy(a.changeSlide, a), a.clickHandler = e.proxy(a.clickHandler, a), a.selectHandler = e.proxy(a.selectHandler, a), a.setPosition = e.proxy(a.setPosition, a), a.swipeHandler = e.proxy(a.swipeHandler, a), a.dragHandler = e.proxy(a.dragHandler, a), a.keyHandler = e.proxy(a.keyHandler, a), a.autoPlayIterator = e.proxy(a.autoPlayIterator, a), a.instanceUid = t++, a.htmlExpr = /^(?:\s*(<[\w\W]+>)[^>]*)$/, a.init(), a.checkResponsive(!0), _r_();
}
return _r_(i);
}(), t.prototype.addSlide = t.prototype.slickAdd = function(t, i, n) {
_i_("35b:228");
var o = this;
if ("boolean" == typeof i) n = i, i = null; else if (0 > i || i >= o.slideCount) return _r_(!1);
o.unload(), "number" == typeof i ? 0 === i && 0 === o.$slides.length ? e(t).appendTo(o.$slideTrack) :n ? e(t).insertBefore(o.$slides.eq(i)) :e(t).insertAfter(o.$slides.eq(i)) :n === !0 ? e(t).prependTo(o.$slideTrack) :e(t).appendTo(o.$slideTrack), o.$slides = o.$slideTrack.children(this.options.slide), o.$slideTrack.children(this.options.slide).detach(), o.$slideTrack.append(o.$slides), o.$slides.each(function(t, i) {
_i_("35b:420"), e(i).attr("data-slick-index", t), _r_();
}), o.$slidesCache = o.$slides, o.reinit(), _r_();
}, t.prototype.animateHeight = function() {
_i_("35b:168");
var e = this;
if (1 === e.options.slidesToShow && e.options.adaptiveHeight === !0 && e.options.vertical === !1) {
var t = e.$slides.eq(e.currentSlide).outerHeight(!0);
e.$list.animate({
height:t
}, e.options.speed);
}
_r_();
}, t.prototype.animateSlide = function(t, i) {
_i_("35b:169");
var n = {}, o = this;
o.animateHeight(), o.options.rtl === !0 && o.options.vertical === !1 && (t = -t), o.transformsEnabled === !1 ? o.options.vertical === !1 ? o.$slideTrack.animate({
left:t
}, o.options.speed, o.options.easing, i) :o.$slideTrack.animate({
top:t
}, o.options.speed, o.options.easing, i) :o.cssTransitions === !1 ? (o.options.rtl === !0 && (o.currentLeft = -o.currentLeft), e({
animStart:o.currentLeft
}).animate({
animStart:t
}, {
duration:o.options.speed,
easing:o.options.easing,
step:function(e) {
_i_("35b:506"), e = Math.ceil(e), o.options.vertical === !1 ? (n[o.animType] = "translate(" + e + "px, 0px)", o.$slideTrack.css(n)) :(n[o.animType] = "translate(0px," + e + "px)", o.$slideTrack.css(n)), _r_();
},
complete:function() {
_i_("35b:507"), i && i.call(), _r_();
}
})) :(o.applyTransition(), t = Math.ceil(t), o.options.vertical === !1 ? n[o.animType] = "translate3d(" + t + "px, 0px, 0px)" :n[o.animType] = "translate3d(0px," + t + "px, 0px)", o.$slideTrack.css(n), i && setTimeout(function() {
_i_("35b:508"), o.disableTransition(), i.call(), _r_();
}, o.options.speed)), _r_();
}, t.prototype.asNavFor = function(t) {
_i_("35b:170");
var i = this, n = null !== i.options.asNavFor ? e(i.options.asNavFor).slick("getSlick") :null;
null !== n && n.slideHandler(t, !0), _r_();
}, t.prototype.applyTransition = function(e) {
_i_("35b:171");
var t = this, i = {};
t.options.fade === !1 ? i[t.transitionType] = t.transformType + " " + t.options.speed + "ms " + t.options.cssEase :i[t.transitionType] = "opacity " + t.options.speed + "ms " + t.options.cssEase, t.options.fade === !1 ? t.$slideTrack.css(i) :t.$slides.eq(e).css(i), _r_();
}, t.prototype.autoPlay = function() {
_i_("35b:172");
var e = this;
e.autoPlayTimer && clearInterval(e.autoPlayTimer), e.slideCount > e.options.slidesToShow && e.paused !== !0 && (e.autoPlayTimer = setInterval(e.autoPlayIterator, e.options.autoplaySpeed)), _r_();
}, t.prototype.autoPlayClear = function() {
_i_("35b:173");
var e = this;
e.autoPlayTimer && clearInterval(e.autoPlayTimer), _r_();
}, t.prototype.autoPlayIterator = function() {
_i_("35b:174");
var e = this;
e.options.infinite === !1 ? 1 === e.direction ? (e.currentSlide + 1 === e.slideCount - 1 && (e.direction = 0), e.slideHandler(e.currentSlide + e.options.slidesToScroll)) :(e.currentSlide - 1 === 0 && (e.direction = 1), e.slideHandler(e.currentSlide - e.options.slidesToScroll)) :e.slideHandler(e.currentSlide + e.options.slidesToScroll), _r_();
}, t.prototype.buildArrows = function() {
_i_("35b:175");
var t = this;
t.options.arrows === !0 && t.slideCount > t.options.slidesToShow && (t.$prevArrow = e(t.options.prevArrow), t.$nextArrow = e(t.options.nextArrow), t.htmlExpr.test(t.options.prevArrow) && t.$prevArrow.appendTo(t.options.appendArrows), t.htmlExpr.test(t.options.nextArrow) && t.$nextArrow.appendTo(t.options.appendArrows), t.options.infinite !== !0 && t.$prevArrow.addClass("slick-disabled")), _r_();
}, t.prototype.buildDots = function() {
_i_("35b:176");
var t, i, n = this;
if (n.options.dots === !0 && n.slideCount > n.options.slidesToShow) {
for (i = '<ul class="' + n.options.dotsClass + '">', t = 0; t <= n.getDotCount(); t += 1) i += "<li>" + n.options.customPaging.call(this, n, t) + "</li>";
i += "</ul>", n.$dots = e(i).appendTo(n.options.appendDots), n.$dots.find("li").first().addClass("slick-active").attr("aria-hidden", "false");
}
_r_();
}, t.prototype.buildOut = function() {
_i_("35b:177");
var t = this;
t.$slides = t.$slider.children(t.options.slide + ":not(.slick-cloned)").addClass("slick-slide"), t.slideCount = t.$slides.length, t.$slides.each(function(t, i) {
_i_("35b:407"), e(i).attr("data-slick-index", t), _r_();
}), t.$slidesCache = t.$slides, t.$slider.addClass("slick-slider"), t.$slideTrack = 0 === t.slideCount ? e('<div class="slick-track"/>').appendTo(t.$slider) :t.$slides.wrapAll('<div class="slick-track"/>').parent(), t.$list = t.$slideTrack.wrap('<div aria-hidden="true" class="slick-list"/>').parent(), t.$slideTrack.css("opacity", 0), (t.options.centerMode === !0 || t.options.swipeToSlide === !0) && (t.options.slidesToScroll = 1), e("img[data-lazy]", t.$slider).not("[src]").addClass("slick-loading"), t.setupInfinite(), t.buildArrows(), t.buildDots(), t.updateDots(), t.setSlideClasses("number" == typeof this.currentSlide ? this.currentSlide :0), t.options.draggable === !0 && t.$list.addClass("draggable"), _r_();
}, t.prototype.checkResponsive = function(t) {
_i_("35b:178");
var i, n, o, r = this, s = r.$slider.width(), a = window.innerWidth || e(window).width();
if ("window" === r.respondTo ? o = a :"slider" === r.respondTo ? o = s :"min" === r.respondTo && (o = Math.min(a, s)), r.originalSettings.responsive && r.originalSettings.responsive.length > -1 && null !== r.originalSettings.responsive) {
n = null;
for (i in r.breakpoints) r.breakpoints.hasOwnProperty(i) && (r.originalSettings.mobileFirst === !1 ? o < r.breakpoints[i] && (n = r.breakpoints[i]) :o > r.breakpoints[i] && (n = r.breakpoints[i]));
null !== n ? null !== r.activeBreakpoint ? n !== r.activeBreakpoint && (r.activeBreakpoint = n, "unslick" === r.breakpointSettings[n] ? r.unslick() :(r.options = e.extend({}, r.originalSettings, r.breakpointSettings[n]), t === !0 && (r.currentSlide = r.options.initialSlide), r.refresh())) :(r.activeBreakpoint = n, "unslick" === r.breakpointSettings[n] ? r.unslick() :(r.options = e.extend({}, r.originalSettings, r.breakpointSettings[n]), t === !0 && (r.currentSlide = r.options.initialSlide), r.refresh())) :null !== r.activeBreakpoint && (r.activeBreakpoint = null, r.options = r.originalSettings, t === !0 && (r.currentSlide = r.options.initialSlide), r.refresh());
}
_r_();
}, t.prototype.changeSlide = function(t, i) {
_i_("35b:179");
var n, o, r, s = this, a = e(t.target);
switch (a.is("a") && t.preventDefault(), r = s.slideCount % s.options.slidesToScroll !== 0, n = r ? 0 :(s.slideCount - s.currentSlide) % s.options.slidesToScroll, t.data.message) {
case "previous":
o = 0 === n ? s.options.slidesToScroll :s.options.slidesToShow - n, s.slideCount > s.options.slidesToShow && s.slideHandler(s.currentSlide - o, !1, i);
break;

case "next":
o = 0 === n ? s.options.slidesToScroll :n, s.slideCount > s.options.slidesToShow && s.slideHandler(s.currentSlide + o, !1, i);
break;

case "index":
var _ = 0 === t.data.index ? 0 :t.data.index || e(t.target).parent().index() * s.options.slidesToScroll;
s.slideHandler(s.checkNavigable(_), !1, i);
break;

default:
return _r_();
}
_r_();
}, t.prototype.checkNavigable = function(e) {
_i_("35b:180");
var t, i, n = this;
if (t = n.getNavigableIndexes(), i = 0, e > t[t.length - 1]) e = t[t.length - 1]; else for (var o in t) {
if (e < t[o]) {
e = i;
break;
}
i = t[o];
}
return _r_(e);
}, t.prototype.clickHandler = function(e) {
_i_("35b:181");
var t = this;
t.shouldClick === !1 && (e.stopImmediatePropagation(), e.stopPropagation(), e.preventDefault()), _r_();
}, t.prototype.destroy = function() {
_i_("35b:182");
var t = this;
t.autoPlayClear(), t.touchObject = {}, e(".slick-cloned", t.$slider).remove(), t.$dots && t.$dots.remove(), t.$prevArrow && "object" != typeof t.options.prevArrow && t.$prevArrow.remove(), t.$nextArrow && "object" != typeof t.options.nextArrow && t.$nextArrow.remove(), t.$slides.removeClass("slick-slide slick-active slick-center slick-visible").attr("aria-hidden", "true").removeAttr("data-slick-index").css({
position:"",
left:"",
top:"",
zIndex:"",
opacity:"",
width:""
}), t.$slider.removeClass("slick-slider"), t.$slider.removeClass("slick-initialized"), t.$list.unbind(".slick"), e(window).unbind(".slick-" + t.instanceUid), e(document).unbind(".slick-" + t.instanceUid), t.$slider.html(t.$slides), _r_();
}, t.prototype.disableTransition = function(e) {
_i_("35b:183");
var t = this, i = {};
i[t.transitionType] = "", t.options.fade === !1 ? t.$slideTrack.css(i) :t.$slides.eq(e).css(i), _r_();
}, t.prototype.fadeSlide = function(e, t) {
_i_("35b:184");
var i = this;
i.cssTransitions === !1 ? (i.$slides.eq(e).css({
zIndex:1e3
}), i.options.speed ? i.$slides.eq(e).animate({
opacity:1
}, i.options.speed, i.options.easing, t) :i.$slides.eq(e).show(i.options.speed, t)) :(i.applyTransition(e), i.$slides.eq(e).css({
opacity:1,
zIndex:1e3
}), t && setTimeout(function() {
_i_("35b:475"), i.disableTransition(e), t.call(), _r_();
}, i.options.speed)), _r_();
}, t.prototype.filterSlides = t.prototype.slickFilter = function(e) {
_i_("35b:229");
var t = this;
null !== e && (t.unload(), t.$slideTrack.children(this.options.slide).detach(), t.$slidesCache.filter(e).appendTo(t.$slideTrack), t.reinit()), _r_();
}, t.prototype.getCurrent = t.prototype.slickCurrentSlide = function() {
_i_("35b:230");
var e = this;
return _r_(e.currentSlide);
}, t.prototype.getDotCount = function() {
_i_("35b:185");
var e = this, t = 0, i = 0, n = 0;
if (e.options.infinite === !0) n = Math.ceil(e.slideCount / e.options.slidesToScroll); else if (e.options.centerMode === !0) n = e.slideCount; else for (;t < e.slideCount; ) ++n, t = i + e.options.slidesToShow, i += e.options.slidesToScroll <= e.options.slidesToShow ? e.options.slidesToScroll :e.options.slidesToShow;
return _r_(n - 1);
}, t.prototype.getLeft = function(e) {
_i_("35b:186");
var t, i, n, o = this, r = 0;
return o.slideOffset = 0, i = o.$slides.first().outerHeight(), o.options.infinite === !0 ? (o.slideCount > o.options.slidesToShow && (o.slideOffset = o.slideWidth * o.options.slidesToShow * -1, r = i * o.options.slidesToShow * -1), o.slideCount % o.options.slidesToScroll !== 0 && e + o.options.slidesToScroll > o.slideCount && o.slideCount > o.options.slidesToShow && (e > o.slideCount ? (o.slideOffset = (o.options.slidesToShow - (e - o.slideCount)) * o.slideWidth * -1, r = (o.options.slidesToShow - (e - o.slideCount)) * i * -1) :(o.slideOffset = o.slideCount % o.options.slidesToScroll * o.slideWidth * -1, r = o.slideCount % o.options.slidesToScroll * i * -1))) :e + o.options.slidesToShow > o.slideCount && (o.slideOffset = (e + o.options.slidesToShow - o.slideCount) * o.slideWidth, r = (e + o.options.slidesToShow - o.slideCount) * i), o.slideCount <= o.options.slidesToShow && (o.slideOffset = 0, r = 0), o.options.centerMode === !0 && o.options.infinite === !0 ? o.slideOffset += o.slideWidth * Math.floor(o.options.slidesToShow / 2) - o.slideWidth :o.options.centerMode === !0 && (o.slideOffset = 0, o.slideOffset += o.slideWidth * Math.floor(o.options.slidesToShow / 2)), t = o.options.vertical === !1 ? e * o.slideWidth * -1 + o.slideOffset :e * i * -1 + r, o.options.variableWidth === !0 && (n = o.slideCount <= o.options.slidesToShow || o.options.infinite === !1 ? o.$slideTrack.children(".slick-slide").eq(e) :o.$slideTrack.children(".slick-slide").eq(e + o.options.slidesToShow), t = n[0] ? -1 * n[0].offsetLeft :0, o.options.centerMode === !0 && (n = o.options.infinite === !1 ? o.$slideTrack.children(".slick-slide").eq(e) :o.$slideTrack.children(".slick-slide").eq(e + o.options.slidesToShow + 1), t = n[0] ? -1 * n[0].offsetLeft :0, t += (o.$list.width() - n.outerWidth()) / 2)), _r_(t);
}, t.prototype.getOption = t.prototype.slickGetOption = function(e) {
_i_("35b:231");
var t = this;
return _r_(t.options[e]);
}, t.prototype.getNavigableIndexes = function() {
_i_("35b:187");
var e, t = this, i = 0, n = 0, o = [];
for (t.options.infinite === !1 ? (e = t.slideCount - t.options.slidesToShow + 1, t.options.centerMode === !0 && (e = t.slideCount)) :(i = -1 * t.slideCount, n = -1 * t.slideCount, e = 2 * t.slideCount); e > i; ) o.push(i), i = n + t.options.slidesToScroll, n += t.options.slidesToScroll <= t.options.slidesToShow ? t.options.slidesToScroll :t.options.slidesToShow;
return _r_(o);
}, t.prototype.getSlick = function() {
return _i_("35b:188"), _r_(this);
}, t.prototype.getSlideCount = function() {
_i_("35b:189");
var t, i, n, o = this;
return n = o.options.centerMode === !0 ? o.slideWidth * Math.floor(o.options.slidesToShow / 2) :0, o.options.swipeToSlide === !0 ? (o.$slideTrack.find(".slick-slide").each(function(t, r) {
if (_i_("35b:444"), r.offsetLeft - n + e(r).outerWidth() / 2 > -1 * o.swipeLeft) return i = r, _r_(!1);
_r_();
}), t = Math.abs(e(i).attr("data-slick-index") - o.currentSlide) || 1, _r_(t)) :_r_(o.options.slidesToScroll);
}, t.prototype.goTo = t.prototype.slickGoTo = function(e, t) {
_i_("35b:232");
var i = this;
i.changeSlide({
data:{
message:"index",
index:parseInt(e)
}
}, t), _r_();
}, t.prototype.init = function() {
_i_("35b:190");
var t = this;
e(t.$slider).hasClass("slick-initialized") || (e(t.$slider).addClass("slick-initialized"), t.buildOut(), t.setProps(), t.startLoad(), t.loadSlider(), t.initializeEvents(), t.updateArrows(), t.updateDots()), t.$slider.trigger("init", [ t ]), _r_();
}, t.prototype.initArrowEvents = function() {
_i_("35b:191");
var e = this;
e.options.arrows === !0 && e.slideCount > e.options.slidesToShow && (e.$prevArrow.bind("click.slick", {
message:"previous"
}, e.changeSlide), e.$nextArrow.bind("click.slick", {
message:"next"
}, e.changeSlide)), _r_();
}, t.prototype.initDotEvents = function() {
_i_("35b:192");
var t = this;
t.options.dots === !0 && t.slideCount > t.options.slidesToShow && e("li", t.$dots).bind("click.slick", {
message:"index"
}, t.changeSlide), t.options.dots === !0 && t.options.pauseOnDotsHover === !0 && t.options.autoplay === !0 && e("li", t.$dots).bind("mouseenter.slick", function() {
_i_("35b:476"), t.paused = !0, t.autoPlayClear(), _r_();
}).bind("mouseleave.slick", function() {
_i_("35b:445"), t.paused = !1, t.autoPlay(), _r_();
}), _r_();
}, t.prototype.initializeEvents = function() {
_i_("35b:193");
var t = this;
t.initArrowEvents(), t.initDotEvents(), t.$list.bind("touchstart.slick mousedown.slick", {
action:"start"
}, t.swipeHandler), t.$list.bind("touchmove.slick mousemove.slick", {
action:"move"
}, t.swipeHandler), t.$list.bind("touchend.slick mouseup.slick", {
action:"end"
}, t.swipeHandler), t.$list.bind("touchcancel.slick mouseleave.slick", {
action:"end"
}, t.swipeHandler), t.$list.bind("click.slick", t.clickHandler), t.options.autoplay === !0 && (e(document).bind(t.visibilityChange, function() {
_i_("35b:446"), t.visibility(), _r_();
}), t.options.pauseOnHover === !0 && (t.$list.bind("mouseenter.slick", function() {
_i_("35b:477"), t.paused = !0, t.autoPlayClear(), _r_();
}), t.$list.bind("mouseleave.slick", function() {
_i_("35b:478"), t.paused = !1, t.autoPlay(), _r_();
}))), t.options.accessibility === !0 && e(document).bind("keydown.slick", t.keyHandler), t.options.focusOnSelect === !0 && e(t.$slideTrack).children().bind("click.slick", t.selectHandler), e(window).bind("orientationchange.slick.slick-" + t.instanceUid, function() {
_i_("35b:408"), t.checkResponsive(), t.setPosition(), _r_();
}), e(window).bind("resize.slick.slick-" + t.instanceUid, function() {
_i_("35b:409"), e(window).width() !== t.windowWidth && (clearTimeout(t.windowDelay), t.windowDelay = window.setTimeout(function() {
_i_("35b:520"), t.windowWidth = e(window).width(), t.checkResponsive(), t.setPosition(), _r_();
}, 50)), _r_();
}), e("*[draggable!=true]", t.$slideTrack).bind("dragstart", function(e) {
_i_("35b:410"), e.preventDefault(), _r_();
}), e(window).bind("load.slick.slick-" + t.instanceUid, t.setPosition), e(document).bind("ready.slick.slick-" + t.instanceUid, t.setPosition), _r_();
}, t.prototype.initUI = function() {
_i_("35b:194");
var e = this;
e.options.arrows === !0 && e.slideCount > e.options.slidesToShow && (e.$prevArrow.show(), e.$nextArrow.show()), e.options.dots === !0 && e.slideCount > e.options.slidesToShow && e.$dots.show(), e.options.autoplay === !0 && e.autoPlay(), _r_();
}, t.prototype.keyHandler = function(e) {
_i_("35b:195");
var t = this;
t.options.accessibility === !0 && t.options.keydownOverride === !0 && t.options.keydownSpeed && (t.iskeyboardEvent = !0, t.currentSpeed = t.options.speed, t.options.speed = t.options.keydownSpeed), 37 === e.keyCode && t.options.accessibility === !0 ? t.changeSlide({
data:{
message:t.options.rtl ? "next" :"previous"
}
}) :39 === e.keyCode && t.options.accessibility === !0 && t.changeSlide({
data:{
message:t.options.rtl ? "previous" :"next"
}
}), _r_();
}, t.prototype.lazyLoad = function() {
_i_("35b:196");
var t, i, n, o, r = this;
function s(t) {
_i_("35b:304"), e("img[data-lazy]", t).each(function() {
_i_("35b:447");
var t = e(this), i = e(this).attr("data-lazy");
t.load(function() {
_i_("35b:530"), t.animate({
opacity:1
}, 200), _r_();
}).css({
opacity:0
}).attr("src", i).removeAttr("data-lazy").removeClass("slick-loading"), _r_();
}), _r_();
}
r.options.centerMode === !0 ? r.options.infinite === !0 ? (n = r.currentSlide + (r.options.slidesToShow / 2 + 1), o = n + r.options.slidesToShow + 2) :(n = Math.max(0, r.currentSlide - (r.options.slidesToShow / 2 + 1)), o = 2 + (r.options.slidesToShow / 2 + 1) + r.currentSlide) :(n = r.options.infinite ? r.options.slidesToShow + r.currentSlide :r.currentSlide, o = n + r.options.slidesToShow, r.options.fade === !0 && (n > 0 && n--, o <= r.slideCount && o++)), t = r.$slider.find(".slick-slide").slice(n, o), s(t), r.slideCount <= r.options.slidesToShow ? (i = r.$slider.find(".slick-slide"), s(i)) :r.currentSlide >= r.slideCount - r.options.slidesToShow ? (i = r.$slider.find(".slick-cloned").slice(0, r.options.slidesToShow), s(i)) :0 === r.currentSlide && (i = r.$slider.find(".slick-cloned").slice(-1 * r.options.slidesToShow), s(i)), _r_();
}, t.prototype.loadSlider = function() {
_i_("35b:197");
var e = this;
e.setPosition(), e.$slideTrack.css({
opacity:1
}), e.$slider.removeClass("slick-loading"), e.initUI(), "progressive" === e.options.lazyLoad && e.progressiveLazyLoad(), _r_();
}, t.prototype.next = t.prototype.slickNext = function() {
_i_("35b:233");
var e = this;
e.changeSlide({
data:{
message:"next"
}
}), _r_();
}, t.prototype.pause = t.prototype.slickPause = function() {
_i_("35b:234");
var e = this;
e.autoPlayClear(), e.paused = !0, _r_();
}, t.prototype.play = t.prototype.slickPlay = function() {
_i_("35b:235");
var e = this;
e.paused = !1, e.autoPlay(), _r_();
}, t.prototype.postSlide = function(e) {
_i_("35b:198");
var t = this;
t.$slider.trigger("afterChange", [ t, e ]), t.animating = !1, t.setPosition(), t.swipeLeft = null, t.options.autoplay === !0 && t.paused === !1 && t.autoPlay(), t.options.accessibility === !0 && t.options.keydownOverride === !0 && t.iskeyboardEvent === !0 && (t.iskeyboardEvent = !1, t.options.speed = t.currentSpeed), _r_();
}, t.prototype.prev = t.prototype.slickPrev = function() {
_i_("35b:236");
var e = this;
e.changeSlide({
data:{
message:"previous"
}
}), _r_();
}, t.prototype.progressiveLazyLoad = function() {
_i_("35b:199");
var t, i, n = this;
t = e("img[data-lazy]", n.$slider).length, t > 0 && (i = e("img[data-lazy]", n.$slider).first(), i.attr("src", i.attr("data-lazy")).removeClass("slick-loading").load(function() {
_i_("35b:479"), i.removeAttr("data-lazy"), n.progressiveLazyLoad(), n.options.adaptiveHeight === !0 && n.setPosition(), _r_();
}).error(function() {
_i_("35b:448"), i.removeAttr("data-lazy"), n.progressiveLazyLoad(), _r_();
})), _r_();
}, t.prototype.refresh = function() {
_i_("35b:200");
var t = this, i = t.currentSlide;
t.destroy(), e.extend(t, t.initials), t.init(), t.changeSlide({
data:{
message:"index",
index:i
}
}, !0), _r_();
}, t.prototype.reinit = function() {
_i_("35b:201");
var t = this;
t.$slides = t.$slideTrack.children(t.options.slide).addClass("slick-slide"), t.slideCount = t.$slides.length, t.currentSlide >= t.slideCount && 0 !== t.currentSlide && (t.currentSlide = t.currentSlide - t.options.slidesToScroll), t.slideCount <= t.options.slidesToShow && (t.currentSlide = 0), t.setProps(), t.setupInfinite(), t.buildArrows(), t.updateArrows(), t.initArrowEvents(), t.buildDots(), t.updateDots(), t.initDotEvents(), t.options.focusOnSelect === !0 && e(t.$slideTrack).children().bind("click.slick", t.selectHandler), t.setSlideClasses(0), t.setPosition(), t.$slider.trigger("reInit", [ t ]), _r_();
}, t.prototype.removeSlide = t.prototype.slickRemove = function(e, t, i) {
_i_("35b:237");
var n = this;
if ("boolean" == typeof e ? (t = e, e = t === !0 ? 0 :n.slideCount - 1) :e = t === !0 ? --e :e, n.slideCount < 1 || 0 > e || e > n.slideCount - 1) return _r_(!1);
n.unload(), i === !0 ? n.$slideTrack.children().remove() :n.$slideTrack.children(this.options.slide).eq(e).remove(), n.$slides = n.$slideTrack.children(this.options.slide), n.$slideTrack.children(this.options.slide).detach(), n.$slideTrack.append(n.$slides), n.$slidesCache = n.$slides, n.reinit(), _r_();
}, t.prototype.setCSS = function(e) {
_i_("35b:202");
var t, i, n = this, o = {};
n.options.rtl === !0 && (e = -e), t = "left" == n.positionProp ? Math.ceil(e) + "px" :"0px", i = "top" == n.positionProp ? Math.ceil(e) + "px" :"0px", o[n.positionProp] = e, n.transformsEnabled === !1 ? n.$slideTrack.css(o) :(o = {}, n.cssTransitions === !1 ? (o[n.animType] = "translate(" + t + ", " + i + ")", n.$slideTrack.css(o)) :(o[n.animType] = "translate3d(" + t + ", " + i + ", 0px)", n.$slideTrack.css(o))), _r_();
}, t.prototype.setDimensions = function() {
_i_("35b:203");
var e = this;
if (e.options.vertical === !1 ? e.options.centerMode === !0 && e.$list.css({
padding:"0px " + e.options.centerPadding
}) :(e.$list.height(e.$slides.first().outerHeight(!0) * e.options.slidesToShow), e.options.centerMode === !0 && e.$list.css({
padding:e.options.centerPadding + " 0px"
})), e.listWidth = e.$list.width(), e.listHeight = e.$list.height(), e.options.vertical === !1 && e.options.variableWidth === !1) e.slideWidth = Math.ceil(e.listWidth / e.options.slidesToShow), e.$slideTrack.width(Math.ceil(e.slideWidth * e.$slideTrack.children(".slick-slide").length)); else if (e.options.variableWidth === !0) {
var t = 0;
e.slideWidth = Math.ceil(e.listWidth / e.options.slidesToShow), e.$slideTrack.children(".slick-slide").each(function() {
_i_("35b:469"), t += e.listWidth, _r_();
}), e.$slideTrack.width(Math.ceil(t) + 1);
} else e.slideWidth = Math.ceil(e.listWidth), e.$slideTrack.height(Math.ceil(e.$slides.first().outerHeight(!0) * e.$slideTrack.children(".slick-slide").length));
var i = e.$slides.first().outerWidth(!0) - e.$slides.first().width();
e.options.variableWidth === !1 && e.$slideTrack.children(".slick-slide").width(e.slideWidth - i), _r_();
}, t.prototype.setFade = function() {
_i_("35b:204");
var t, i = this;
i.$slides.each(function(n, o) {
_i_("35b:411"), t = i.slideWidth * n * -1, i.options.rtl === !0 ? e(o).css({
position:"relative",
right:t,
top:0,
zIndex:800,
opacity:0
}) :e(o).css({
position:"relative",
left:t,
top:0,
zIndex:800,
opacity:0
}), _r_();
}), i.$slides.eq(i.currentSlide).css({
zIndex:900,
opacity:1
}), _r_();
}, t.prototype.setHeight = function() {
_i_("35b:205");
var e = this;
if (1 === e.options.slidesToShow && e.options.adaptiveHeight === !0 && e.options.vertical === !1) {
var t = e.$slides.eq(e.currentSlide).outerHeight(!0);
e.$list.css("height", t);
}
_r_();
}, t.prototype.setOption = t.prototype.slickSetOption = function(e, t, i) {
_i_("35b:238");
var n = this;
n.options[e] = t, i === !0 && (n.unload(), n.reinit()), _r_();
}, t.prototype.setPosition = function() {
_i_("35b:206");
var e = this;
e.setDimensions(), e.setHeight(), e.options.fade === !1 ? e.setCSS(e.getLeft(e.currentSlide)) :e.setFade(), e.$slider.trigger("setPosition", [ e ]), _r_();
}, t.prototype.setProps = function() {
_i_("35b:207");
var e = this, t = document.body.style;
e.positionProp = e.options.vertical === !0 ? "top" :"left", "top" === e.positionProp ? e.$slider.addClass("slick-vertical") :e.$slider.removeClass("slick-vertical"), (void 0 !== t.WebkitTransition || void 0 !== t.MozTransition || void 0 !== t.msTransition) && e.options.useCSS === !0 && (e.cssTransitions = !0), void 0 !== t.OTransform && (e.animType = "OTransform", e.transformType = "-o-transform", e.transitionType = "OTransition", void 0 === t.perspectiveProperty && void 0 === t.webkitPerspective && (e.animType = !1)), void 0 !== t.MozTransform && (e.animType = "MozTransform", e.transformType = "-moz-transform", e.transitionType = "MozTransition", void 0 === t.perspectiveProperty && void 0 === t.MozPerspective && (e.animType = !1)), void 0 !== t.webkitTransform && (e.animType = "webkitTransform", e.transformType = "-webkit-transform", e.transitionType = "webkitTransition", void 0 === t.perspectiveProperty && void 0 === t.webkitPerspective && (e.animType = !1)), void 0 !== t.msTransform && (e.animType = "msTransform", e.transformType = "-ms-transform", e.transitionType = "msTransition", void 0 === t.msTransform && (e.animType = !1)), void 0 !== t.transform && e.animType !== !1 && (e.animType = "transform", e.transformType = "transform", e.transitionType = "transition"), e.transformsEnabled = null !== e.animType && e.animType !== !1, _r_();
}, t.prototype.setSlideClasses = function(e) {
_i_("35b:208");
var t, i, n, o, r = this;
r.$slider.find(".slick-slide").removeClass("slick-active").attr("aria-hidden", "true").removeClass("slick-center"), i = r.$slider.find(".slick-slide"), r.options.centerMode === !0 ? (t = Math.floor(r.options.slidesToShow / 2), r.options.infinite === !0 && (e >= t && e <= r.slideCount - 1 - t ? r.$slides.slice(e - t, e + t + 1).addClass("slick-active").attr("aria-hidden", "false") :(n = r.options.slidesToShow + e, i.slice(n - t + 1, n + t + 2).addClass("slick-active").attr("aria-hidden", "false")), 0 === e ? i.eq(i.length - 1 - r.options.slidesToShow).addClass("slick-center") :e === r.slideCount - 1 && i.eq(r.options.slidesToShow).addClass("slick-center")), r.$slides.eq(e).addClass("slick-center")) :e >= 0 && e <= r.slideCount - r.options.slidesToShow ? r.$slides.slice(e, e + r.options.slidesToShow).addClass("slick-active").attr("aria-hidden", "false") :i.length <= r.options.slidesToShow ? i.addClass("slick-active").attr("aria-hidden", "false") :(o = r.slideCount % r.options.slidesToShow, n = r.options.infinite === !0 ? r.options.slidesToShow + e :e, r.options.slidesToShow == r.options.slidesToScroll && r.slideCount - e < r.options.slidesToShow ? i.slice(n - (r.options.slidesToShow - o), n + o).addClass("slick-active").attr("aria-hidden", "false") :i.slice(n, n + r.options.slidesToShow).addClass("slick-active").attr("aria-hidden", "false")), "ondemand" === r.options.lazyLoad && r.lazyLoad(), _r_();
}, t.prototype.setupInfinite = function() {
_i_("35b:209");
var t, i, n, o = this;
if (o.options.fade === !0 && (o.options.centerMode = !1), o.options.infinite === !0 && o.options.fade === !1 && (i = null, o.slideCount > o.options.slidesToShow)) {
for (n = o.options.centerMode === !0 ? o.options.slidesToShow + 1 :o.options.slidesToShow, t = o.slideCount; t > o.slideCount - n; t -= 1) i = t - 1, e(o.$slides[i]).clone(!0).attr("id", "").attr("data-slick-index", i - o.slideCount).prependTo(o.$slideTrack).addClass("slick-cloned");
for (t = 0; n > t; t += 1) i = t, e(o.$slides[i]).clone(!0).attr("id", "").attr("data-slick-index", i + o.slideCount).appendTo(o.$slideTrack).addClass("slick-cloned");
o.$slideTrack.find(".slick-cloned").find("[id]").each(function() {
_i_("35b:480"), e(this).attr("id", ""), _r_();
});
}
_r_();
}, t.prototype.selectHandler = function(t) {
_i_("35b:210");
var i = this, n = parseInt(e(t.target).parents(".slick-slide").attr("data-slick-index"));
if (n || (n = 0), i.slideCount <= i.options.slidesToShow) return i.$slider.find(".slick-slide").removeClass("slick-active").attr("aria-hidden", "true"), i.$slides.eq(n).addClass("slick-active").attr("aria-hidden", "false"), i.options.centerMode === !0 && (i.$slider.find(".slick-slide").removeClass("slick-center"), i.$slides.eq(n).addClass("slick-center")), i.asNavFor(n), _r_();
i.slideHandler(n), _r_();
}, t.prototype.slideHandler = function(e, t, i) {
_i_("35b:211");
var n, o, r, s = null, a = this;
if (t = t || !1, a.animating === !0 && a.options.waitForAnimate === !0) return _r_();
if (a.options.fade === !0 && a.currentSlide === e) return _r_();
if (a.slideCount <= a.options.slidesToShow) return _r_();
if (t === !1 && a.asNavFor(e), n = e, s = a.getLeft(n), r = a.getLeft(a.currentSlide), a.currentLeft = null === a.swipeLeft ? r :a.swipeLeft, a.options.infinite === !1 && a.options.centerMode === !1 && (0 > e || e > a.getDotCount() * a.options.slidesToScroll)) return a.options.fade === !1 && (n = a.currentSlide, i !== !0 ? a.animateSlide(r, function() {
_i_("35b:509"), a.postSlide(n), _r_();
}) :a.postSlide(n)), _r_();
if (a.options.infinite === !1 && a.options.centerMode === !0 && (0 > e || e > a.slideCount - a.options.slidesToScroll)) return a.options.fade === !1 && (n = a.currentSlide, i !== !0 ? a.animateSlide(r, function() {
_i_("35b:521"), a.postSlide(n), _r_();
}) :a.postSlide(n)), _r_();
if (a.options.autoplay === !0 && clearInterval(a.autoPlayTimer), o = 0 > n ? a.slideCount % a.options.slidesToScroll !== 0 ? a.slideCount - a.slideCount % a.options.slidesToScroll :a.slideCount + n :n >= a.slideCount ? a.slideCount % a.options.slidesToScroll !== 0 ? 0 :n - a.slideCount :n, a.animating = !0, a.$slider.trigger("beforeChange", [ a, a.currentSlide, o ]), a.currentSlide = o, a.setSlideClasses(a.currentSlide), a.updateDots(), a.updateArrows(), a.options.fade === !0) return i !== !0 ? a.fadeSlide(o, function() {
_i_("35b:481"), a.postSlide(o), _r_();
}) :a.postSlide(o), a.animateHeight(), _r_();
i !== !0 ? a.animateSlide(s, function() {
_i_("35b:449"), a.postSlide(o), _r_();
}) :a.postSlide(o), _r_();
}, t.prototype.startLoad = function() {
_i_("35b:212");
var e = this;
e.options.arrows === !0 && e.slideCount > e.options.slidesToShow && (e.$prevArrow.hide(), e.$nextArrow.hide()), e.options.dots === !0 && e.slideCount > e.options.slidesToShow && e.$dots.hide(), e.$slider.addClass("slick-loading"), _r_();
}, t.prototype.swipeDirection = function() {
_i_("35b:213");
var e, t, i, n, o = this;
if (e = o.touchObject.startX - o.touchObject.curX, t = o.touchObject.startY - o.touchObject.curY, i = Math.atan2(t, e), n = Math.round(180 * i / Math.PI), 0 > n && (n = 360 - Math.abs(n)), 45 >= n && n >= 0) return _r_(o.options.rtl === !1 ? "left" :"right");
if (360 >= n && n >= 315) return _r_(o.options.rtl === !1 ? "left" :"right");
if (n >= 135 && 225 >= n) return _r_(o.options.rtl === !1 ? "right" :"left");
return _r_("vertical");
}, t.prototype.swipeEnd = function(e) {
_i_("35b:214");
var t, i = this;
if (i.dragging = !1, i.shouldClick = i.touchObject.swipeLength > 10 ? !1 :!0, void 0 === i.touchObject.curX) return _r_(!1);
if (i.touchObject.edgeHit === !0 && i.$slider.trigger("edge", [ i, i.swipeDirection() ]), i.touchObject.swipeLength >= i.touchObject.minSwipe) switch (i.swipeDirection()) {
case "left":
t = i.options.swipeToSlide ? i.checkNavigable(i.currentSlide + i.getSlideCount()) :i.currentSlide + i.getSlideCount(), i.slideHandler(t), i.currentDirection = 0, i.touchObject = {}, i.$slider.trigger("swipe", [ i, "left" ]);
break;

case "right":
t = i.options.swipeToSlide ? i.checkNavigable(i.currentSlide - i.getSlideCount()) :i.currentSlide - i.getSlideCount(), i.slideHandler(t), i.currentDirection = 1, i.touchObject = {}, i.$slider.trigger("swipe", [ i, "right" ]);
} else i.touchObject.startX !== i.touchObject.curX && (i.slideHandler(i.currentSlide), i.touchObject = {});
_r_();
}, t.prototype.swipeHandler = function(e) {
_i_("35b:215");
var t = this;
if (t.options.swipe === !1 || "ontouchend" in document && t.options.swipe === !1) return _r_();
if (t.options.draggable === !1 && -1 !== e.type.indexOf("mouse")) return _r_();
switch (t.touchObject.fingerCount = e.originalEvent && void 0 !== e.originalEvent.touches ? e.originalEvent.touches.length :1, t.touchObject.minSwipe = t.listWidth / t.options.touchThreshold, e.data.action) {
case "start":
t.swipeStart(e);
break;

case "move":
t.swipeMove(e);
break;

case "end":
t.swipeEnd(e);
}
_r_();
}, t.prototype.swipeMove = function(e) {
_i_("35b:216");
var t, i, n, o, r, s = this;
if (r = void 0 !== e.originalEvent ? e.originalEvent.touches :null, !s.dragging || r && 1 !== r.length) return _r_(!1);
if (t = s.getLeft(s.currentSlide), s.touchObject.curX = void 0 !== r ? r[0].pageX :e.clientX, s.touchObject.curY = void 0 !== r ? r[0].pageY :e.clientY, s.touchObject.swipeLength = Math.round(Math.sqrt(Math.pow(s.touchObject.curX - s.touchObject.startX, 2))), i = s.swipeDirection(), "vertical" === i) return _r_();
if (void 0 !== e.originalEvent && s.touchObject.swipeLength > 4 && e.preventDefault(), o = (s.options.rtl === !1 ? 1 :-1) * (s.touchObject.curX > s.touchObject.startX ? 1 :-1), n = s.touchObject.swipeLength, s.touchObject.edgeHit = !1, s.options.infinite === !1 && (0 === s.currentSlide && "right" === i || s.currentSlide >= s.getDotCount() && "left" === i) && (n = s.touchObject.swipeLength * s.options.edgeFriction, s.touchObject.edgeHit = !0), s.options.vertical === !1 ? s.swipeLeft = t + n * o :s.swipeLeft = t + n * (s.$list.height() / s.listWidth) * o, s.options.fade === !0 || s.options.touchMove === !1) return _r_(!1);
if (s.animating === !0) return s.swipeLeft = null, _r_(!1);
s.setCSS(s.swipeLeft), _r_();
}, t.prototype.swipeStart = function(e) {
_i_("35b:217");
var t, i = this;
if (1 !== i.touchObject.fingerCount || i.slideCount <= i.options.slidesToShow) return i.touchObject = {}, _r_(!1);
void 0 !== e.originalEvent && void 0 !== e.originalEvent.touches && (t = e.originalEvent.touches[0]), i.touchObject.startX = i.touchObject.curX = void 0 !== t ? t.pageX :e.clientX, i.touchObject.startY = i.touchObject.curY = void 0 !== t ? t.pageY :e.clientY, i.dragging = !0, _r_();
}, t.prototype.unfilterSlides = t.prototype.slickUnfilter = function() {
_i_("35b:239");
var e = this;
null !== e.$slidesCache && (e.unload(), e.$slideTrack.children(this.options.slide).detach(), e.$slidesCache.appendTo(e.$slideTrack), e.reinit()), _r_();
}, t.prototype.unload = function() {
_i_("35b:218");
var t = this;
e(".slick-cloned", t.$slider).remove(), t.$dots && t.$dots.remove(), t.$prevArrow && "object" != typeof t.options.prevArrow && t.$prevArrow.remove(), t.$nextArrow && "object" != typeof t.options.nextArrow && t.$nextArrow.remove(), t.$slides.removeClass("slick-slide slick-active slick-visible").attr("aria-hidden", "true").css("width", ""), _r_();
}, t.prototype.unslick = function() {
_i_("35b:219");
var e = this;
e.destroy(), _r_();
}, t.prototype.updateArrows = function() {
_i_("35b:220");
var e = this;
e.options.arrows === !0 && e.options.infinite !== !0 && e.slideCount > e.options.slidesToShow && (e.$prevArrow.removeClass("slick-disabled"), e.$nextArrow.removeClass("slick-disabled"), 0 === e.currentSlide ? (e.$prevArrow.addClass("slick-disabled"), e.$nextArrow.removeClass("slick-disabled")) :e.currentSlide >= e.slideCount - e.options.slidesToShow && e.options.centerMode === !1 ? (e.$nextArrow.addClass("slick-disabled"), e.$prevArrow.removeClass("slick-disabled")) :e.currentSlide >= e.slideCount - 1 && e.options.centerMode === !0 && (e.$nextArrow.addClass("slick-disabled"), e.$prevArrow.removeClass("slick-disabled"))), _r_();
}, t.prototype.updateDots = function() {
_i_("35b:221");
var e = this;
null !== e.$dots && (e.$dots.find("li").removeClass("slick-active").attr("aria-hidden", "true"), e.$dots.find("li").eq(Math.floor(e.currentSlide / e.options.slidesToScroll)).addClass("slick-active").attr("aria-hidden", "false")), _r_();
}, t.prototype.visibility = function() {
_i_("35b:222");
var e = this;
document[e.hidden] ? (e.paused = !0, e.autoPlayClear()) :(e.paused = !1, e.autoPlay()), _r_();
}, e.fn.slick = function() {
_i_("35b:223");
var e, i = this, n = arguments[0], o = Array.prototype.slice.call(arguments, 1), r = i.length, s = 0;
for (s; r > s; s++) if ("object" == typeof n || "undefined" == typeof n ? i[s].slick = new t(i[s], n) :e = i[s].slick[n].apply(i[s].slick, o), "undefined" != typeof e) return _r_(e);
return _r_(i);
}, e(function() {
_i_("35b:224"), e("[data-slick]").slick(), _r_();
}), _r_();
}), function(e) {
_i_("35b:71");
var t = e.require("jquery"), i = t(".js-recent-obs-slider-inner");
if (0 === i.length) return _r_();
i.slick({
speed:200,
infinite:!1,
slidesToShow:2,
slidesToScroll:1,
draggable:!1,
rtl:e.env.rtl,
prevArrow:t(".js-recent-obs-prev"),
nextArrow:t(".js-recent-obs-next")
}), _r_();
}(window.booking);